!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.hangul=e():t.hangul=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var u=n[r]={exports:{},id:r,loaded:!1};return t[r].call(u.exports,u,u.exports,e),u.loaded=!0,u.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var u=n(1),o=r(u),f=n(2),i=r(f),a=n(4),l=r(a),d=n(6),c=r(d),s=n(8),p=r(s),g=n(9),h=r(g),_=n(10),y=r(_);e["default"]={is:o["default"],initial:i["default"],vowel:l["default"],under:c["default"],hasUnder:p["default"],hasLastUnder:h["default"],formatNumber:y["default"]},String.prototype.isHangul=function(t){return(0,o["default"])(this.toString(),t)},String.prototype.hangulInitial=function(){return(0,i["default"])(this.toString())},String.prototype.hangulVowel=function(){return(0,l["default"])(this.toString())},String.prototype.hangulUnder=function(){return(0,c["default"])(this.toString())},String.prototype.hasHangulUnder=function(){return(0,p["default"])(this.toString())},String.prototype.hasLastHangulUnder=function(){return(0,h["default"])(this.toString())},String.prototype.toHangulNumber=function(t){return(0,y["default"])(this.toString(),t)},Number.prototype.toHangul=function(t){return(0,y["default"])(this.toString(),t)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){if("string"!=typeof t||0===t.length)return!1;(!e||0>e||e>t.length)&&(e=t.length);for(var n=0;e>n;n++){var r=t.charCodeAt(n);if(44032>r||r>55203)return!1}return!0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){return(0,o["default"])(t,1)?i["default"][parseInt(((65535&t.charCodeAt(0))-44032)/588)]:"string"==typeof t?t.charAt(0):t};var u=n(1),o=r(u),f=n(3),i=r(f)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){return(0,o["default"])(t,1)?i["default"][parseInt(((65535&t.charCodeAt(0))-44032)%588/28)]:"string"==typeof t?t.charAt(0):t};var u=n(1),o=r(u),f=n(5),i=r(f)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){return(0,o["default"])(t,1)?i["default"][parseInt(((65535&t.charCodeAt(0))-44032)%588%28)]:"string"==typeof t?t.charAt(0):t};var u=n(1),o=r(u),f=n(7),i=r(f)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){return(0,o["default"])(t,1)&&""!==(0,i["default"])(t)};var u=n(1),o=r(u),f=n(6),i=r(f)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){return"string"!=typeof t||0===t.length?!1:(0,o["default"])(t.charAt(t.length-1))};var u=n(8),o=r(u)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){if("undefined"==typeof t)throw new TypeError("'number' is undefined");if("string"!=typeof t&&(t=t.toString()),!/^[0-9]+$/.test(t))return t;if("0"===t.charAt(0))for(var n=1;n<t.length;n++)if("0"!==t.charAt(n)){t=t.substring(n);break}if(0===t.length)return o["default"][0];if(1===t.length)return o["default"][t.charAt(0)];for(var r=t.split("").map(function(t){return parseInt(t)}),u=r.reverse(),f=[],n=0;n<u.length;n+=4)f.push(u.slice(n,n+4));return f.map(function(t,e){var n=t.map(function(t,e){var n=t>1||0===e&&1===t?o["default"][t]:"",r=t>0&&e>0?i["default"][0][e-1]:"";return n+r}).reduce(function(t,e){return e+t}),r=e>0&&n.length>0?i["default"][1][(e-1)%4]:"";return n+r}).filter(function(t){return t.length>0}).reduce(function(t,n){return n+(e||"")+t})};var u=n(11),o=r(u),f=n(12),i=r(f)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=["영","일","이","삼","사","오","육","칠","팔","구"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=[["십","백","천"],["만","억","조","경"]]}])});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwiaGFuZ3VsLm1pbi5qcyIsIndlYnBhY2s6L3dlYnBhY2svYm9vdHN0cmFwIGY2NzUyYWRkNmY3NTBkZDMwYTBkIiwid2VicGFjazovLy9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3NyYy9pc0hhbmd1bC5qcyIsIndlYnBhY2s6Ly8vc3JjL2luaXRpYWwuanMiLCJ3ZWJwYWNrOi8vL3NyYy92YXJzL2luaXRpYWxDb25zb25hbnRzLmpzIiwid2VicGFjazovLy9zcmMvdm93ZWwuanMiLCJ3ZWJwYWNrOi8vL3NyYy92YXJzL3Zvd2Vscy5qcyIsIndlYnBhY2s6Ly8vc3JjL3VuZGVyLmpzIiwid2VicGFjazovLy9zcmMvdmFycy9maW5hbENvbnNvbmFudHMuanMiLCJ3ZWJwYWNrOi8vL3NyYy9oYXNVbmRlci5qcyIsIndlYnBhY2s6Ly8vc3JjL2hhc0xhc3RVbmRlci5qcyIsIndlYnBhY2s6Ly8vc3JjL2Zvcm1hdE51bWJlci5qcyIsIndlYnBhY2s6Ly8vc3JjL3ZhcnMvbnVtYmVycy5qcyIsIndlYnBhY2s6Ly8vc3JjL3ZhcnMvbGFyZ2VOdW1iZXJzLmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJfaXNIYW5ndWwiLCJfaXNIYW5ndWwyIiwiX2luaXRpYWwiLCJfaW5pdGlhbDIiLCJfdm93ZWwiLCJfdm93ZWwyIiwiX3VuZGVyIiwiX3VuZGVyMiIsIl9oYXNVbmRlciIsIl9oYXNVbmRlcjIiLCJfaGFzTGFzdFVuZGVyIiwiX2hhc0xhc3RVbmRlcjIiLCJfZm9ybWF0TnVtYmVyIiwiX2Zvcm1hdE51bWJlcjIiLCJpcyIsImluaXRpYWwiLCJ2b3dlbCIsInVuZGVyIiwiaGFzVW5kZXIiLCJoYXNMYXN0VW5kZXIiLCJmb3JtYXROdW1iZXIiLCJTdHJpbmciLCJwcm90b3R5cGUiLCJpc0hhbmd1bCIsImxlbiIsInRvU3RyaW5nIiwiaGFuZ3VsSW5pdGlhbCIsImhhbmd1bFZvd2VsIiwiaGFuZ3VsVW5kZXIiLCJoYXNIYW5ndWxVbmRlciIsImhhc0xhc3RIYW5ndWxVbmRlciIsInRvSGFuZ3VsTnVtYmVyIiwiZGVsaW1pdGVyIiwiTnVtYmVyIiwidG9IYW5ndWwiLCJzdHIiLCJsZW5ndGgiLCJpIiwiY2hhckNvZGVBdCIsIl9pbml0aWFsQ29uc29uYW50czIiLCJwYXJzZUludCIsImNoYXJBdCIsIl9pbml0aWFsQ29uc29uYW50cyIsIl92b3dlbHMyIiwiX3Zvd2VscyIsIl9maW5hbENvbnNvbmFudHMyIiwiX2ZpbmFsQ29uc29uYW50cyIsIm51bWJlciIsIlR5cGVFcnJvciIsInRlc3QiLCJzdWJzdHJpbmciLCJfbnVtYmVyczIiLCJzcGxpdGVkTnVtYmVycyIsInNwbGl0IiwibWFwIiwiYSIsInJldmVyc2VkTnVtYmVycyIsInJldmVyc2UiLCJncm91cGVkTnVtYmVycyIsInB1c2giLCJzbGljZSIsIm51bXMiLCJobnVtcyIsIm4iLCJqIiwiaG51bSIsInVuaXQiLCJfbGFyZ2VOdW1iZXJzMiIsInJlZHVjZSIsImIiLCJsdW5pdCIsImZpbHRlciIsIl9udW1iZXJzIiwiX2xhcmdlTnVtYmVycyJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsR0FDQSxnQkFBQUMsVUFBQSxnQkFBQUMsUUFDQUEsT0FBQUQsUUFBQUQsSUFDQSxrQkFBQUcsU0FBQUEsT0FBQUMsSUFDQUQsVUFBQUgsR0FDQSxnQkFBQUMsU0FDQUEsUUFBQSxPQUFBRCxJQUVBRCxFQUFBLE9BQUFD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TyxJQUVYckIsRUFBQUEsWWFwWkcsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsTWIrWUUsU0FBU0MsRUFBUUQsR2MzWnZCLFlkK1pDbUIsUUFBT0MsZUFBZXBCLEVBQVMsY0FDM0JxQixPQUFPLElBRVhyQixFQUFBQSxhYy9aSSxJQUFLLElBQUssTUFDVixJQUFLLElBQUssSUFBSyIsImZpbGUiOiJoYW5ndWwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiaGFuZ3VsXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcImhhbmd1bFwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIFxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvblxuICoqLyIsIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImhhbmd1bFwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJoYW5ndWxcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2lzSGFuZ3VsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfaXNIYW5ndWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNIYW5ndWwpO1xuXHRcblx0dmFyIF9pbml0aWFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfaW5pdGlhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbml0aWFsKTtcblx0XG5cdHZhciBfdm93ZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF92b3dlbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92b3dlbCk7XG5cdFxuXHR2YXIgX3VuZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfdW5kZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdW5kZXIpO1xuXHRcblx0dmFyIF9oYXNVbmRlciA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX2hhc1VuZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhc1VuZGVyKTtcblx0XG5cdHZhciBfaGFzTGFzdFVuZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdHZhciBfaGFzTGFzdFVuZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhc0xhc3RVbmRlcik7XG5cdFxuXHR2YXIgX2Zvcm1hdE51bWJlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRcblx0dmFyIF9mb3JtYXROdW1iZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZm9ybWF0TnVtYmVyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSB7XG5cdCAgICBpczogX2lzSGFuZ3VsMi5kZWZhdWx0LFxuXHQgICAgaW5pdGlhbDogX2luaXRpYWwyLmRlZmF1bHQsXG5cdCAgICB2b3dlbDogX3Zvd2VsMi5kZWZhdWx0LFxuXHQgICAgdW5kZXI6IF91bmRlcjIuZGVmYXVsdCxcblx0ICAgIGhhc1VuZGVyOiBfaGFzVW5kZXIyLmRlZmF1bHQsXG5cdCAgICBoYXNMYXN0VW5kZXI6IF9oYXNMYXN0VW5kZXIyLmRlZmF1bHQsXG5cdCAgICBmb3JtYXROdW1iZXI6IF9mb3JtYXROdW1iZXIyLmRlZmF1bHRcblx0fTtcblx0XG5cdFN0cmluZy5wcm90b3R5cGUuaXNIYW5ndWwgPSBmdW5jdGlvbiAobGVuKSB7XG5cdCAgICByZXR1cm4gKDAsIF9pc0hhbmd1bDIuZGVmYXVsdCkodGhpcy50b1N0cmluZygpLCBsZW4pO1xuXHR9O1xuXHRcblx0U3RyaW5nLnByb3RvdHlwZS5oYW5ndWxJbml0aWFsID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICgwLCBfaW5pdGlhbDIuZGVmYXVsdCkodGhpcy50b1N0cmluZygpKTtcblx0fTtcblx0XG5cdFN0cmluZy5wcm90b3R5cGUuaGFuZ3VsVm93ZWwgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gKDAsIF92b3dlbDIuZGVmYXVsdCkodGhpcy50b1N0cmluZygpKTtcblx0fTtcblx0XG5cdFN0cmluZy5wcm90b3R5cGUuaGFuZ3VsVW5kZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gKDAsIF91bmRlcjIuZGVmYXVsdCkodGhpcy50b1N0cmluZygpKTtcblx0fTtcblx0XG5cdFN0cmluZy5wcm90b3R5cGUuaGFzSGFuZ3VsVW5kZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gKDAsIF9oYXNVbmRlcjIuZGVmYXVsdCkodGhpcy50b1N0cmluZygpKTtcblx0fTtcblx0XG5cdFN0cmluZy5wcm90b3R5cGUuaGFzTGFzdEhhbmd1bFVuZGVyID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICgwLCBfaGFzTGFzdFVuZGVyMi5kZWZhdWx0KSh0aGlzLnRvU3RyaW5nKCkpO1xuXHR9O1xuXHRcblx0U3RyaW5nLnByb3RvdHlwZS50b0hhbmd1bE51bWJlciA9IGZ1bmN0aW9uIChkZWxpbWl0ZXIpIHtcblx0ICAgIHJldHVybiAoMCwgX2Zvcm1hdE51bWJlcjIuZGVmYXVsdCkodGhpcy50b1N0cmluZygpLCBkZWxpbWl0ZXIpO1xuXHR9O1xuXHRcblx0TnVtYmVyLnByb3RvdHlwZS50b0hhbmd1bCA9IGZ1bmN0aW9uIChkZWxpbWl0ZXIpIHtcblx0ICAgIHJldHVybiAoMCwgX2Zvcm1hdE51bWJlcjIuZGVmYXVsdCkodGhpcy50b1N0cmluZygpLCBkZWxpbWl0ZXIpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiDrrLjsnpDsl7TsnbQg7ZWc6riA7J247KeAIOqygOyCrO2VnOuLpFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gc3RyIOusuOyekOyXtFxuXHQgKiBAcGFyYW0ge251bWJlcn0gW2xlbl0g6rKA7IKs6ri47J20XG5cdCAqIEByZXR1cm4ge2Jvb2xlYW59IOqygOyCrOqysOqzvFxuXHQgKi9cblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc3RyLCBsZW4pIHtcblx0ICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJyB8fCBzdHIubGVuZ3RoID09PSAwKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgICAgaWYgKCFsZW4gfHwgbGVuIDwgMCB8fCBsZW4gPiBzdHIubGVuZ3RoKSB7XG5cdCAgICAgICAgbGVuID0gc3RyLmxlbmd0aDtcblx0ICAgIH1cblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgICB2YXIgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuXHQgICAgICAgIGlmIChjIDwgMHhBQzAwIHx8IGMgPiAweEQ3QTMpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiB0cnVlO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzdHIpIHtcblx0ICAgIGlmICghKDAsIF9pc0hhbmd1bDIuZGVmYXVsdCkoc3RyLCAxKSkge1xuXHQgICAgICAgIHJldHVybiB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyA/IHN0ci5jaGFyQXQoMCkgOiBzdHI7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gX2luaXRpYWxDb25zb25hbnRzMi5kZWZhdWx0W3BhcnNlSW50KCgoc3RyLmNoYXJDb2RlQXQoMCkgJiAweEZGRkYpIC0gMHhBQzAwKSAvICgyMSAqIDI4KSldO1xuXHR9O1xuXHRcblx0dmFyIF9pc0hhbmd1bCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cblx0dmFyIF9pc0hhbmd1bDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0hhbmd1bCk7XG5cblx0dmFyIF9pbml0aWFsQ29uc29uYW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0dmFyIF9pbml0aWFsQ29uc29uYW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbml0aWFsQ29uc29uYW50cyk7XG5cblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFsn44SxJywgJ+OEsicsICfjhLQnLCAn44S3JywgJ+OEuCcsICfjhLknLCAn44WBJywgJ+OFgicsICfjhYMnLCAn44WFJywgJ+OFhicsICfjhYcnLCAn44WIJywgJ+OFiScsICfjhYonLCAn44WLJywgJ+OFjCcsICfjhY0nLCAn44WOJ107XG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHN0cikge1xuXHQgICAgaWYgKCEoMCwgX2lzSGFuZ3VsMi5kZWZhdWx0KShzdHIsIDEpKSB7XG5cdCAgICAgICAgcmV0dXJuIHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnID8gc3RyLmNoYXJBdCgwKSA6IHN0cjtcblx0ICAgIH1cblx0ICAgIHJldHVybiBfdm93ZWxzMi5kZWZhdWx0W3BhcnNlSW50KCgoc3RyLmNoYXJDb2RlQXQoMCkgJiAweEZGRkYpIC0gMHhBQzAwKSAlICgyMSAqIDI4KSAvIDI4KV07XG5cdH07XG5cdFxuXHR2YXIgX2lzSGFuZ3VsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxuXHR2YXIgX2lzSGFuZ3VsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzSGFuZ3VsKTtcblxuXHR2YXIgX3Zvd2VscyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cblx0dmFyIF92b3dlbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdm93ZWxzKTtcblxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKioqLyB9LFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gWyfjhY8nLCAn44WQJywgJ+OFkScsICfjhZInLCAn44WTJywgJ+OFlCcsICfjhZUnLCAn44WWJywgJ+OFlycsICfjhZgnLCAn44WZJywgJ+OFmicsICfjhZsnLCAn44WcJywgJ+OFnScsICfjhZ4nLCAn44WfJywgJ+OFoCcsICfjhaEnLCAn44WiJywgJ+OFoyddO1xuXG4vKioqLyB9LFxuLyogNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzdHIpIHtcblx0ICAgIGlmICghKDAsIF9pc0hhbmd1bDIuZGVmYXVsdCkoc3RyLCAxKSkge1xuXHQgICAgICAgIHJldHVybiB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyA/IHN0ci5jaGFyQXQoMCkgOiBzdHI7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gX2ZpbmFsQ29uc29uYW50czIuZGVmYXVsdFtwYXJzZUludCgoKHN0ci5jaGFyQ29kZUF0KDApICYgMHhGRkZGKSAtIDB4QUMwMCkgJSAoMjEgKiAyOCkgJSAyOCldO1xuXHR9O1xuXHRcblx0dmFyIF9pc0hhbmd1bCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cblx0dmFyIF9pc0hhbmd1bDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0hhbmd1bCk7XG5cblx0dmFyIF9maW5hbENvbnNvbmFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG5cdHZhciBfZmluYWxDb25zb25hbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ZpbmFsQ29uc29uYW50cyk7XG5cblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqKi8gfSxcbi8qIDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFsnJywgJ+OEsScsICfjhLInLCAn44SzJywgJ+OEtCcsICfjhLUnLCAn44S2JywgJ+OEtycsICfjhLknLCAn44S6JywgJ+OEuycsICfjhLwnLCAn44S9JywgJ+OEvicsICfjhL8nLCAn44WAJywgJ+OFgScsICfjhYInLCAn44WEJywgJ+OFhScsICfjhYYnLCAn44WHJywgJ+OFiCcsICfjhYonLCAn44WLJywgJ+OFjCcsICfjhY0nLCAn44WOJ107XG5cbi8qKiovIH0sXG4vKiA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzdHIpIHtcblx0ICByZXR1cm4gKDAsIF9pc0hhbmd1bDIuZGVmYXVsdCkoc3RyLCAxKSAmJiAoMCwgX3VuZGVyMi5kZWZhdWx0KShzdHIpICE9PSAnJztcblx0fTtcblx0XG5cdHZhciBfaXNIYW5ndWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG5cdHZhciBfaXNIYW5ndWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNIYW5ndWwpO1xuXG5cdHZhciBfdW5kZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG5cdHZhciBfdW5kZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdW5kZXIpO1xuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKiovIH0sXG4vKiA5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHN0cikge1xuXHQgICAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnIHx8IHN0ci5sZW5ndGggPT09IDApIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gKDAsIF9oYXNVbmRlcjIuZGVmYXVsdCkoc3RyLmNoYXJBdChzdHIubGVuZ3RoIC0gMSkpO1xuXHR9O1xuXHRcblx0dmFyIF9oYXNVbmRlciA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cblx0dmFyIF9oYXNVbmRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYXNVbmRlcik7XG5cblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqKi8gfSxcbi8qIDEwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKG51bWJlciwgZGVsaW1pdGVyKSB7XG5cdCAgICBpZiAodHlwZW9mIG51bWJlciA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiJ251bWJlcicgaXMgdW5kZWZpbmVkXCIpO1xuXHQgICAgfVxuXHQgICAgaWYgKHR5cGVvZiBudW1iZXIgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgbnVtYmVyID0gbnVtYmVyLnRvU3RyaW5nKCk7XG5cdCAgICB9XG5cdCAgICBpZiAoIS9eWzAtOV0rJC8udGVzdChudW1iZXIpKSB7XG5cdCAgICAgICAgcmV0dXJuIG51bWJlcjtcblx0ICAgIH1cblx0ICAgIGlmIChudW1iZXIuY2hhckF0KDApID09PSAnMCcpIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IG51bWJlci5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBpZiAobnVtYmVyLmNoYXJBdChpKSA9PT0gJzAnKSB7XG5cdCAgICAgICAgICAgICAgICBjb250aW51ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBudW1iZXIgPSBudW1iZXIuc3Vic3RyaW5nKGkpO1xuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBpZiAobnVtYmVyLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICAgIHJldHVybiBfbnVtYmVyczIuZGVmYXVsdFswXTtcblx0ICAgIH1cblx0ICAgIGlmIChudW1iZXIubGVuZ3RoID09PSAxKSB7XG5cdCAgICAgICAgcmV0dXJuIF9udW1iZXJzMi5kZWZhdWx0W251bWJlci5jaGFyQXQoMCldO1xuXHQgICAgfVxuXHQgICAgdmFyIHNwbGl0ZWROdW1iZXJzID0gbnVtYmVyLnNwbGl0KCcnKS5tYXAoZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgICByZXR1cm4gcGFyc2VJbnQoYSk7XG5cdCAgICB9KTtcblx0ICAgIHZhciByZXZlcnNlZE51bWJlcnMgPSBzcGxpdGVkTnVtYmVycy5yZXZlcnNlKCk7XG5cdCAgICB2YXIgZ3JvdXBlZE51bWJlcnMgPSBbXTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmV2ZXJzZWROdW1iZXJzLmxlbmd0aDsgaSArPSA0KSB7XG5cdCAgICAgICAgZ3JvdXBlZE51bWJlcnMucHVzaChyZXZlcnNlZE51bWJlcnMuc2xpY2UoaSwgaSArIDQpKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBncm91cGVkTnVtYmVycy5tYXAoZnVuY3Rpb24gKG51bXMsIGkpIHtcblx0ICAgICAgICB2YXIgaG51bXMgPSBudW1zLm1hcChmdW5jdGlvbiAobiwgaikge1xuXHQgICAgICAgICAgICB2YXIgaG51bSA9IG4gPiAxIHx8IGogPT09IDAgJiYgbiA9PT0gMSA/IF9udW1iZXJzMi5kZWZhdWx0W25dIDogJyc7XG5cdCAgICAgICAgICAgIHZhciB1bml0ID0gbiA+IDAgJiYgaiA+IDAgPyBfbGFyZ2VOdW1iZXJzMi5kZWZhdWx0WzBdW2ogLSAxXSA6ICcnO1xuXHQgICAgICAgICAgICByZXR1cm4gaG51bSArIHVuaXQ7XG5cdCAgICAgICAgfSkucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBiICsgYTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICB2YXIgbHVuaXQgPSBpID4gMCAmJiBobnVtcy5sZW5ndGggPiAwID8gX2xhcmdlTnVtYmVyczIuZGVmYXVsdFsxXVsoaSAtIDEpICUgNF0gOiAnJztcblx0ICAgICAgICByZXR1cm4gaG51bXMgKyBsdW5pdDtcblx0ICAgIH0pLmZpbHRlcihmdW5jdGlvbiAoYSkge1xuXHQgICAgICAgIHJldHVybiBhLmxlbmd0aCA+IDA7XG5cdCAgICB9KS5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcblx0ICAgICAgICByZXR1cm4gYiArIChkZWxpbWl0ZXIgfHwgJycpICsgYTtcblx0ICAgIH0pO1xuXHR9O1xuXHRcblx0dmFyIF9udW1iZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cblx0dmFyIF9udW1iZXJzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX251bWJlcnMpO1xuXG5cdHZhciBfbGFyZ2VOdW1iZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cblx0dmFyIF9sYXJnZU51bWJlcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGFyZ2VOdW1iZXJzKTtcblxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKioqLyB9LFxuLyogMTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFsn7JiBJywgJ+ydvCcsICfsnbQnLCAn7IK8JywgJ+yCrCcsICfsmKQnLCAn7JyhJywgJ+y5oCcsICftjJQnLCAn6rWsJ107XG5cbi8qKiovIH0sXG4vKiAxMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gW1sn7IutJywgJ+uwsScsICfsspwnXSwgWyfrp4wnLCAn7Ja1JywgJ+yhsCcsICfqsr0nXV07XG5cbi8qKiovIH1cbi8qKioqKiovIF0pXG59KTtcbjtcbiIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay9ib290c3RyYXAgZjY3NTJhZGQ2Zjc1MGRkMzBhMGRcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBpc0hhbmd1bCBmcm9tICcuL2lzSGFuZ3VsJ1xuaW1wb3J0IGluaXRpYWwgZnJvbSAnLi9pbml0aWFsJ1xuaW1wb3J0IHZvd2VsIGZyb20gJy4vdm93ZWwnXG5pbXBvcnQgdW5kZXIgZnJvbSAnLi91bmRlcidcbmltcG9ydCBoYXNVbmRlciBmcm9tICcuL2hhc1VuZGVyJ1xuaW1wb3J0IGhhc0xhc3RVbmRlciBmcm9tICcuL2hhc0xhc3RVbmRlcidcbmltcG9ydCBmb3JtYXROdW1iZXIgZnJvbSAnLi9mb3JtYXROdW1iZXInXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBpczogaXNIYW5ndWwsXG4gICAgaW5pdGlhbDogaW5pdGlhbCxcbiAgICB2b3dlbDogdm93ZWwsXG4gICAgdW5kZXI6IHVuZGVyLFxuICAgIGhhc1VuZGVyOiBoYXNVbmRlcixcbiAgICBoYXNMYXN0VW5kZXI6IGhhc0xhc3RVbmRlcixcbiAgICBmb3JtYXROdW1iZXI6IGZvcm1hdE51bWJlclxufTtcblxuU3RyaW5nLnByb3RvdHlwZS5pc0hhbmd1bCA9IGZ1bmN0aW9uKGxlbikge1xuICAgIHJldHVybiBpc0hhbmd1bCh0aGlzLnRvU3RyaW5nKCksIGxlbik7XG59O1xuXG5TdHJpbmcucHJvdG90eXBlLmhhbmd1bEluaXRpYWwgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaW5pdGlhbCh0aGlzLnRvU3RyaW5nKCkpO1xufTtcblxuU3RyaW5nLnByb3RvdHlwZS5oYW5ndWxWb3dlbCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB2b3dlbCh0aGlzLnRvU3RyaW5nKCkpO1xufTtcblxuU3RyaW5nLnByb3RvdHlwZS5oYW5ndWxVbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB1bmRlcih0aGlzLnRvU3RyaW5nKCkpO1xufTtcblxuU3RyaW5nLnByb3RvdHlwZS5oYXNIYW5ndWxVbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYXNVbmRlcih0aGlzLnRvU3RyaW5nKCkpO1xufTtcblxuU3RyaW5nLnByb3RvdHlwZS5oYXNMYXN0SGFuZ3VsVW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFzTGFzdFVuZGVyKHRoaXMudG9TdHJpbmcoKSk7XG59O1xuXG5TdHJpbmcucHJvdG90eXBlLnRvSGFuZ3VsTnVtYmVyID0gZnVuY3Rpb24oZGVsaW1pdGVyKSB7XG4gICAgcmV0dXJuIGZvcm1hdE51bWJlcih0aGlzLnRvU3RyaW5nKCksIGRlbGltaXRlcik7XG59O1xuXG5OdW1iZXIucHJvdG90eXBlLnRvSGFuZ3VsID0gZnVuY3Rpb24oZGVsaW1pdGVyKSB7XG4gICAgcmV0dXJuIGZvcm1hdE51bWJlcih0aGlzLnRvU3RyaW5nKCksIGRlbGltaXRlcik7XG59O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvaW5kZXguanNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOusuOyekOyXtOydtCDtlZzquIDsnbjsp4Ag6rKA7IKs7ZWc64ukXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIOusuOyekOyXtFxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5dIOqygOyCrOq4uOydtFxuICogQHJldHVybiB7Ym9vbGVhbn0g6rKA7IKs6rKw6rO8XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHN0ciwgbGVuKSB7XG4gICAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnIHx8IHN0ci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIWxlbiB8fCBsZW4gPCAwIHx8IGxlbiA+IHN0ci5sZW5ndGgpIHtcbiAgICAgICAgbGVuID0gc3RyLmxlbmd0aDtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBsZXQgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoYyA8IDB4QUMwMCB8fCBjID4gMHhEN0EzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9pc0hhbmd1bC5qc1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGlzSGFuZ3VsIGZyb20gJy4vaXNIYW5ndWwnXG5pbXBvcnQgSU5JVElBTF9DT05TT05BTlRTIGZyb20gJy4vdmFycy9pbml0aWFsQ29uc29uYW50cydcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g7ZWc6riAIO2VnOusuOyekOyXkOyEnCDstIjshLHsnYQg67aE66as7ZW07IScIOqwgOyguOyYqOuLpFxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciDrrLjsnpBcbiAqIEByZXR1cm4ge3N0cmluZ30g7LSI7ISxXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHN0cikge1xuICAgIGlmICghaXNIYW5ndWwoc3RyLCAxKSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN0ciA9PT0gJ3N0cmluZycgPyBzdHIuY2hhckF0KDApIDogc3RyO1xuICAgIH1cbiAgICByZXR1cm4gSU5JVElBTF9DT05TT05BTlRTW3BhcnNlSW50KCgoc3RyLmNoYXJDb2RlQXQoMCkgJiAweEZGRkYpIC0gMHhBQzAwKSAvICgyMSAqIDI4KSldO1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvaW5pdGlhbC5qc1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQgW1xuICAgICfjhLEnLFxuICAgICfjhLInLFxuICAgICfjhLQnLFxuICAgICfjhLcnLFxuICAgICfjhLgnLFxuICAgICfjhLknLFxuICAgICfjhYEnLFxuICAgICfjhYInLFxuICAgICfjhYMnLFxuICAgICfjhYUnLFxuICAgICfjhYYnLFxuICAgICfjhYcnLFxuICAgICfjhYgnLFxuICAgICfjhYknLFxuICAgICfjhYonLFxuICAgICfjhYsnLFxuICAgICfjhYwnLFxuICAgICfjhY0nLFxuICAgICfjhY4nXG5dO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvdmFycy9pbml0aWFsQ29uc29uYW50cy5qc1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGlzSGFuZ3VsIGZyb20gJy4vaXNIYW5ndWwnXG5pbXBvcnQgVk9XRUxTIGZyb20gJy4vdmFycy92b3dlbHMnXG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIO2VnOq4gCDtlZzrrLjsnpDsl5DshJwg7KSR7ISx7J2EIOu2hOumrO2VtOyEnCDqsIDsoLjsmKjri6RcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIg66y47J6QXG4gKiBAcmV0dXJuIHtzdHJpbmd9IOykkeyEsVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzdHIpIHtcbiAgICBpZiAoIWlzSGFuZ3VsKHN0ciwgMSkpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnID8gc3RyLmNoYXJBdCgwKSA6IHN0cjtcbiAgICB9XG4gICAgcmV0dXJuIFZPV0VMU1twYXJzZUludCgoKChzdHIuY2hhckNvZGVBdCgwKSAmIDB4RkZGRikgLSAweEFDMDApICUgKDIxICogMjgpKSAvIDI4KV07XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy92b3dlbC5qc1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQgW1xuICAgICfjhY8nLFxuICAgICfjhZAnLFxuICAgICfjhZEnLFxuICAgICfjhZInLFxuICAgICfjhZMnLFxuICAgICfjhZQnLFxuICAgICfjhZUnLFxuICAgICfjhZYnLFxuICAgICfjhZcnLFxuICAgICfjhZgnLFxuICAgICfjhZknLFxuICAgICfjhZonLFxuICAgICfjhZsnLFxuICAgICfjhZwnLFxuICAgICfjhZ0nLFxuICAgICfjhZ4nLFxuICAgICfjhZ8nLFxuICAgICfjhaAnLFxuICAgICfjhaEnLFxuICAgICfjhaInLFxuICAgICfjhaMnXG5dO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvdmFycy92b3dlbHMuanNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBpc0hhbmd1bCBmcm9tICcuL2lzSGFuZ3VsJ1xuaW1wb3J0IEZJTkFMX0NPTlNPTkFOVFMgZnJvbSAnLi92YXJzL2ZpbmFsQ29uc29uYW50cydcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g7ZWc6riAIO2VnOusuOyekOyXkOyEnCDsooXshLHsnYQg67aE66as7ZW07IScIOqwgOyguOyYqOuLpFxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciDrrLjsnpBcbiAqIEByZXR1cm4ge3N0cmluZ30g7KKF7ISxXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHN0cikge1xuICAgIGlmICghaXNIYW5ndWwoc3RyLCAxKSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN0ciA9PT0gJ3N0cmluZycgPyBzdHIuY2hhckF0KDApIDogc3RyO1xuICAgIH1cbiAgICByZXR1cm4gRklOQUxfQ09OU09OQU5UU1twYXJzZUludCgoKChzdHIuY2hhckNvZGVBdCgwKSAmIDB4RkZGRikgLSAweEFDMDApICUgKDIxICogMjgpKSAlIDI4KV07XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy91bmRlci5qc1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQgW1xuICAgICcnLFxuICAgICfjhLEnLFxuICAgICfjhLInLFxuICAgICfjhLMnLFxuICAgICfjhLQnLFxuICAgICfjhLUnLFxuICAgICfjhLYnLFxuICAgICfjhLcnLFxuICAgICfjhLknLFxuICAgICfjhLonLFxuICAgICfjhLsnLFxuICAgICfjhLwnLFxuICAgICfjhL0nLFxuICAgICfjhL4nLFxuICAgICfjhL8nLFxuICAgICfjhYAnLFxuICAgICfjhYEnLFxuICAgICfjhYInLFxuICAgICfjhYQnLFxuICAgICfjhYUnLFxuICAgICfjhYYnLFxuICAgICfjhYcnLFxuICAgICfjhYgnLFxuICAgICfjhYonLFxuICAgICfjhYsnLFxuICAgICfjhYwnLFxuICAgICfjhY0nLFxuICAgICfjhY4nXG5dO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvdmFycy9maW5hbENvbnNvbmFudHMuanNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBpc0hhbmd1bCBmcm9tICcuL2lzSGFuZ3VsJ1xuaW1wb3J0IHVuZGVyIGZyb20gJy4vdW5kZXInXG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIO2VnOusuOyekOydmCDsooXshLHsnZgg7Jyg66y066W8IOqygOyCrO2VnOuLpFxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciDrrLjsnpBcbiAqIEByZXR1cm4ge2Jvb2xlYW59IOyiheyEseydmCDsnKDrrLRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc3RyKSB7XG4gICAgcmV0dXJuIGlzSGFuZ3VsKHN0ciwgMSkgJiYgdW5kZXIoc3RyKSAhPT0gJyc7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9oYXNVbmRlci5qc1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGhhc1VuZGVyIGZyb20gJy4vaGFzVW5kZXInXG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOusuOyekOyXtOydmCDrp4jsp4Drp4kg66y47J6Q7J2YIOyiheyEsSDsnKDrrLTrpbwg6rKA7IKs7ZWc64ukXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIOusuOyekOyXtFxuICogQHJldHVybiB7Ym9vbGVhbn0g66eI7KeA66eJIOusuOyekOydmCDsooXshLEg7Jyg66y0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHN0cikge1xuICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJyB8fCBzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGhhc1VuZGVyKHN0ci5jaGFyQXQoc3RyLmxlbmd0aCAtIDEpKTtcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2hhc0xhc3RVbmRlci5qc1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IE5VTUJFUlMgZnJvbSAnLi92YXJzL251bWJlcnMnXG5pbXBvcnQgTEFSR0VfTlVNQkVSUyBmcm9tICcuL3ZhcnMvbGFyZ2VOdW1iZXJzJ1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDsiKvsnpDrpbwg7ZWc6riA7ZiV7Iud7Jy866GcIOuwlOq/lOykgOuLpFxuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBudW1iZXIg7Iir7J6QXG4gKiBAcGFyYW0ge3N0cmluZ30gW2RlbGltaXRlcl0g64uo7JyEIOq1rOu2hOyekFxuICogQHJldHVybiB7c3RyaW5nfSDtlZzquIDsiKvsnpBcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obnVtYmVyLCBkZWxpbWl0ZXIpIHtcbiAgICBpZiAodHlwZW9mIG51bWJlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIidudW1iZXInIGlzIHVuZGVmaW5lZFwiKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBudW1iZXIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIG51bWJlciA9IG51bWJlci50b1N0cmluZygpO1xuICAgIH1cbiAgICBpZiAoIS9eWzAtOV0rJC8udGVzdChudW1iZXIpKSB7XG4gICAgICAgIHJldHVybiBudW1iZXI7XG4gICAgfVxuICAgIGlmIChudW1iZXIuY2hhckF0KDApID09PSAnMCcpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBudW1iZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChudW1iZXIuY2hhckF0KGkpID09PSAnMCcpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG51bWJlciA9IG51bWJlci5zdWJzdHJpbmcoaSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobnVtYmVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gTlVNQkVSU1swXTtcbiAgICB9XG4gICAgaWYgKG51bWJlci5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIE5VTUJFUlNbbnVtYmVyLmNoYXJBdCgwKV07XG4gICAgfVxuICAgIGxldCBzcGxpdGVkTnVtYmVycyA9IG51bWJlci5zcGxpdCgnJykubWFwKGEgPT4gcGFyc2VJbnQoYSkpO1xuICAgIGxldCByZXZlcnNlZE51bWJlcnMgPSBzcGxpdGVkTnVtYmVycy5yZXZlcnNlKCk7XG4gICAgbGV0IGdyb3VwZWROdW1iZXJzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXZlcnNlZE51bWJlcnMubGVuZ3RoOyBpICs9IDQpIHtcbiAgICAgICAgZ3JvdXBlZE51bWJlcnMucHVzaChyZXZlcnNlZE51bWJlcnMuc2xpY2UoaSwgaSArIDQpKTtcbiAgICB9XG4gICAgcmV0dXJuIGdyb3VwZWROdW1iZXJzLm1hcCgobnVtcywgaSkgPT4ge1xuICAgICAgICBsZXQgaG51bXMgPSBudW1zLm1hcCgobiwgaikgPT4ge1xuICAgICAgICAgICAgbGV0IGhudW0gPSAobiA+IDEgfHwgaiA9PT0gMCAmJiBuID09PSAxKSA/IE5VTUJFUlNbbl0gOiAnJztcbiAgICAgICAgICAgIGxldCB1bml0ID0gKG4gPiAwICYmIGogPiAwKSA/IExBUkdFX05VTUJFUlNbMF1baiAtIDFdIDogJyc7XG4gICAgICAgICAgICByZXR1cm4gaG51bSArIHVuaXQ7XG4gICAgICAgIH0pLnJlZHVjZSgoYSwgYikgPT4gYiArIGEpO1xuICAgICAgICBsZXQgbHVuaXQgPSAoaSA+IDAgJiYgaG51bXMubGVuZ3RoID4gMCkgPyBMQVJHRV9OVU1CRVJTWzFdWyhpIC0gMSkgJSA0XSA6ICcnO1xuICAgICAgICByZXR1cm4gaG51bXMgKyBsdW5pdDtcbiAgICB9KS5maWx0ZXIoYSA9PiBhLmxlbmd0aCA+IDApLnJlZHVjZSgoYSwgYikgPT4gYiArIChkZWxpbWl0ZXIgfHwgJycpICsgYSk7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9mb3JtYXROdW1iZXIuanNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IFtcbiAgICAn7JiBJyxcbiAgICAn7J28JyxcbiAgICAn7J20JyxcbiAgICAn7IK8JyxcbiAgICAn7IKsJyxcbiAgICAn7JikJyxcbiAgICAn7JyhJyxcbiAgICAn7LmgJyxcbiAgICAn7YyUJyxcbiAgICAn6rWsJ1xuXTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3ZhcnMvbnVtYmVycy5qc1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQgW1xuICAgIFsn7IutJywgJ+uwsScsICfsspwnXSxcbiAgICBbJ+unjCcsICfslrUnLCAn7KGwJywgJ+qyvSddXG5dO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvdmFycy9sYXJnZU51bWJlcnMuanNcbiAqKi8iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
