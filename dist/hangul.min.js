!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.hangul=e():t.hangul=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var u=n[r]={exports:{},id:r,loaded:!1};return t[r].call(u.exports,u,u.exports,e),u.loaded=!0,u.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var u=n(1),o=r(u),f=n(2),i=r(f),a=n(4),l=r(a),d=n(6),c=r(d),s=n(8),p=r(s),g=n(9),h=r(g),_=n(10),y=r(_);e["default"]={is:o["default"],initial:i["default"],vowel:l["default"],under:c["default"],hasUnder:p["default"],hasLastUnder:h["default"],formatNumber:y["default"]},String.prototype.isHangul=function(t){return(0,o["default"])(this.toString(),t)},String.prototype.hangulInitial=function(){return(0,i["default"])(this.toString())},String.prototype.hangulVowel=function(){return(0,l["default"])(this.toString())},String.prototype.hangulUnder=function(){return(0,c["default"])(this.toString())},String.prototype.hasHangulUnder=function(){return(0,p["default"])(this.toString())},String.prototype.hasLastHangulUnder=function(){return(0,h["default"])(this.toString())},String.prototype.toHangulNumber=function(t){return(0,y["default"])(this.toString(),t)},Number.prototype.toHangul=function(t){return(0,y["default"])(this.toString(),t)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){if("string"!=typeof t||0===t.length)return!1;(!e||0>e||e>t.length)&&(e=t.length);for(var n=0;e>n;n++){var r=t.charCodeAt(n);if(44032>r||r>55203)return!1}return!0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){return(0,o["default"])(t,1)?i["default"][parseInt(((65535&t.charCodeAt(0))-44032)/588)]:"string"==typeof t?t.charAt(0):t};var u=n(1),o=r(u),f=n(3),i=r(f)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){return(0,o["default"])(t,1)?i["default"][parseInt(((65535&t.charCodeAt(0))-44032)%588/28)]:"string"==typeof t?t.charAt(0):t};var u=n(1),o=r(u),f=n(5),i=r(f)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){return(0,o["default"])(t,1)?i["default"][parseInt(((65535&t.charCodeAt(0))-44032)%588%28)]:"string"==typeof t?t.charAt(0):t};var u=n(1),o=r(u),f=n(7),i=r(f)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){return(0,o["default"])(t,1)&&""!==(0,i["default"])(t)};var u=n(1),o=r(u),f=n(6),i=r(f)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){return"string"!=typeof t||0===t.length?!1:(0,o["default"])(t.charAt(t.length-1))};var u=n(8),o=r(u)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){if("undefined"==typeof t)throw new TypeError("'number' is undefined");if("string"!=typeof t&&(t=t.toString()),!/^[0-9]+$/.test(t))return t;if("0"===t.charAt(0))for(var n=1;n<t.length;n++)if("0"!==t.charAt(n)){t=t.substring(n);break}if(0===t.length)return o["default"][0];if(1===t.length)return o["default"][t.charAt(0)];for(var r=t.split("").map(function(t){return parseInt(t)}),u=r.reverse(),f=[],n=0;n<u.length;n+=4)f.push(u.slice(n,n+4));return f.map(function(t,e){var n=t.map(function(t,e){var n=t>1||0===e&&1===t?o["default"][t]:"",r=t>0&&e>0?i["default"][0][e-1]:"";return n+r}).reduce(function(t,e){return e+t}),r=e>0&&n.length>0?i["default"][1][(e-1)%4]:"";return n+r}).filter(function(t){return t.length>0}).reduce(function(t,n){return n+(e||"")+t})};var u=n(11),o=r(u),f=n(12),i=r(f)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=["영","일","이","삼","사","오","육","칠","팔","구"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=[["십","백","천"],["만","억","조","경"]]}])});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhhbmd1bC5taW4uanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwidGhpcyIsIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiaWQiLCJsb2FkZWQiLCJjYWxsIiwibSIsImMiLCJwIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIl9pc0hhbmd1bCIsIl9pc0hhbmd1bDIiLCJfaW5pdGlhbCIsIl9pbml0aWFsMiIsIl92b3dlbCIsIl92b3dlbDIiLCJfdW5kZXIiLCJfdW5kZXIyIiwiX2hhc1VuZGVyIiwiX2hhc1VuZGVyMiIsIl9oYXNMYXN0VW5kZXIiLCJfaGFzTGFzdFVuZGVyMiIsIl9mb3JtYXROdW1iZXIiLCJfZm9ybWF0TnVtYmVyMiIsImlzIiwiaW5pdGlhbCIsInZvd2VsIiwidW5kZXIiLCJoYXNVbmRlciIsImhhc0xhc3RVbmRlciIsImZvcm1hdE51bWJlciIsIlN0cmluZyIsInByb3RvdHlwZSIsImlzSGFuZ3VsIiwibGVuIiwidG9TdHJpbmciLCJoYW5ndWxJbml0aWFsIiwiaGFuZ3VsVm93ZWwiLCJoYW5ndWxVbmRlciIsImhhc0hhbmd1bFVuZGVyIiwiaGFzTGFzdEhhbmd1bFVuZGVyIiwidG9IYW5ndWxOdW1iZXIiLCJkZWxpbWl0ZXIiLCJOdW1iZXIiLCJ0b0hhbmd1bCIsInN0ciIsImxlbmd0aCIsImkiLCJjaGFyQ29kZUF0IiwiX2luaXRpYWxDb25zb25hbnRzMiIsInBhcnNlSW50IiwiY2hhckF0IiwiX2luaXRpYWxDb25zb25hbnRzIiwiX3Zvd2VsczIiLCJfdm93ZWxzIiwiX2ZpbmFsQ29uc29uYW50czIiLCJfZmluYWxDb25zb25hbnRzIiwibnVtYmVyIiwiVHlwZUVycm9yIiwidGVzdCIsInN1YnN0cmluZyIsIl9udW1iZXJzMiIsInNwbGl0ZWROdW1iZXJzIiwic3BsaXQiLCJtYXAiLCJhIiwicmV2ZXJzZWROdW1iZXJzIiwicmV2ZXJzZSIsImdyb3VwZWROdW1iZXJzIiwicHVzaCIsInNsaWNlIiwibnVtcyIsImhudW1zIiwibiIsImoiLCJobnVtIiwidW5pdCIsIl9sYXJnZU51bWJlcnMyIiwicmVkdWNlIiwiYiIsImx1bml0IiwiZmlsdGVyIiwiX251bWJlcnMiLCJfbGFyZ2VOdW1iZXJzIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsZ0JBQVpDLFVBQTBDLGdCQUFYQyxRQUN4Q0EsT0FBT0QsUUFBVUQsSUFDUSxrQkFBWEcsU0FBeUJBLE9BQU9DLElBQzlDRCxVQUFXSCxHQUNlLGdCQUFaQyxTQUNkQSxRQUFnQixPQUFJRCxJQUVwQkQsRUFBYSxPQUFJQyxLQUNoQkssS0FBTSxXQUNULE1BQWdCLFVBQVVDLEdBS2hCLFFBQVNDLEdBQW9CQyxHQUc1QixHQUFHQyxFQUFpQkQsR0FDbkIsTUFBT0MsR0FBaUJELEdBQVVQLE9BR25DLElBQUlDLEdBQVNPLEVBQWlCRCxJQUM3QlAsV0FDQVMsR0FBSUYsRUFDSkcsUUFBUSxFQVVULE9BTkFMLEdBQVFFLEdBQVVJLEtBQUtWLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNNLEdBRy9ETCxFQUFPUyxRQUFTLEVBR1RULEVBQU9ELFFBdkJmLEdBQUlRLEtBcUNKLE9BVEFGLEdBQW9CTSxFQUFJUCxFQUd4QkMsRUFBb0JPLEVBQUlMLEVBR3hCRixFQUFvQlEsRUFBSSxHQUdqQlIsRUFBb0IsS0FLL0IsU0FBU0wsRUFBUUQsRUFBU00sR0FFL0IsWUFrQ0EsU0FBU1MsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBU0YsR0FoQ3ZGRyxPQUFPQyxlQUFlcEIsRUFBUyxjQUMzQnFCLE9BQU8sR0FHWCxJQUFJQyxHQUFZaEIsRUFBb0IsR0FFaENpQixFQUFhUixFQUF1Qk8sR0FFcENF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LEdBQU9DLElBQ2ZFLE9BQU8sU0FBVWIsRUFBR2MsR0FDbkIsTUFBT0EsR0FBSWQsSUFFWGUsRUFBUWpDLEVBQUksR0FBS3lCLEVBQU0xQixPQUFTLEVBQUkrQixFQUFBQSxXQUF1QixJQUFJOUIsRUFBSSxHQUFLLEdBQUssRUFDakYsT0FBT3lCLEdBQVFRLElBQ2hCQyxPQUFPLFNBQVVoQixHQUNoQixNQUFPQSxHQUFFbkIsT0FBUyxJQUNuQmdDLE9BQU8sU0FBVWIsRUFBR2MsR0FDbkIsTUFBT0EsSUFBS3JDLEdBQWEsSUFBTXVCLElBSXZDLElBQUlpQixHQUFXeEYsRUFBb0IsSUFFL0JtRSxFQUFZMUQsRUFBdUIrRSxHQUVuQ0MsRUFBZ0J6RixFQUFvQixJQUVwQ21GLEVBQWlCMUUsRUFBdUJnRixJQU12QyxTQUFTOUYsRUFBUUQsR0FFdEIsWUFFQW1CLFFBQU9DLGVBQWVwQixFQUFTLGNBQzNCcUIsT0FBTyxJQUVYckIsRUFBQUEsWUFBbUIsSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssTUFJM0QsU0FBU0MsRUFBUUQsR0FFdEIsWUFFQW1CLFFBQU9DLGVBQWVwQixFQUFTLGNBQzNCcUIsT0FBTyxJQUVYckIsRUFBQUEsYUFBb0IsSUFBSyxJQUFLLE1BQU8sSUFBSyxJQUFLLElBQUsiLCJmaWxlIjoiaGFuZ3VsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImhhbmd1bFwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJoYW5ndWxcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2lzSGFuZ3VsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfaXNIYW5ndWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNIYW5ndWwpO1xuXHRcblx0dmFyIF9pbml0aWFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfaW5pdGlhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbml0aWFsKTtcblx0XG5cdHZhciBfdm93ZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF92b3dlbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92b3dlbCk7XG5cdFxuXHR2YXIgX3VuZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfdW5kZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdW5kZXIpO1xuXHRcblx0dmFyIF9oYXNVbmRlciA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX2hhc1VuZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhc1VuZGVyKTtcblx0XG5cdHZhciBfaGFzTGFzdFVuZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdHZhciBfaGFzTGFzdFVuZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhc0xhc3RVbmRlcik7XG5cdFxuXHR2YXIgX2Zvcm1hdE51bWJlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRcblx0dmFyIF9mb3JtYXROdW1iZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZm9ybWF0TnVtYmVyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSB7XG5cdCAgICBpczogX2lzSGFuZ3VsMi5kZWZhdWx0LFxuXHQgICAgaW5pdGlhbDogX2luaXRpYWwyLmRlZmF1bHQsXG5cdCAgICB2b3dlbDogX3Zvd2VsMi5kZWZhdWx0LFxuXHQgICAgdW5kZXI6IF91bmRlcjIuZGVmYXVsdCxcblx0ICAgIGhhc1VuZGVyOiBfaGFzVW5kZXIyLmRlZmF1bHQsXG5cdCAgICBoYXNMYXN0VW5kZXI6IF9oYXNMYXN0VW5kZXIyLmRlZmF1bHQsXG5cdCAgICBmb3JtYXROdW1iZXI6IF9mb3JtYXROdW1iZXIyLmRlZmF1bHRcblx0fTtcblx0XG5cdFN0cmluZy5wcm90b3R5cGUuaXNIYW5ndWwgPSBmdW5jdGlvbiAobGVuKSB7XG5cdCAgICByZXR1cm4gKDAsIF9pc0hhbmd1bDIuZGVmYXVsdCkodGhpcy50b1N0cmluZygpLCBsZW4pO1xuXHR9O1xuXHRcblx0U3RyaW5nLnByb3RvdHlwZS5oYW5ndWxJbml0aWFsID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICgwLCBfaW5pdGlhbDIuZGVmYXVsdCkodGhpcy50b1N0cmluZygpKTtcblx0fTtcblx0XG5cdFN0cmluZy5wcm90b3R5cGUuaGFuZ3VsVm93ZWwgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gKDAsIF92b3dlbDIuZGVmYXVsdCkodGhpcy50b1N0cmluZygpKTtcblx0fTtcblx0XG5cdFN0cmluZy5wcm90b3R5cGUuaGFuZ3VsVW5kZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gKDAsIF91bmRlcjIuZGVmYXVsdCkodGhpcy50b1N0cmluZygpKTtcblx0fTtcblx0XG5cdFN0cmluZy5wcm90b3R5cGUuaGFzSGFuZ3VsVW5kZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gKDAsIF9oYXNVbmRlcjIuZGVmYXVsdCkodGhpcy50b1N0cmluZygpKTtcblx0fTtcblx0XG5cdFN0cmluZy5wcm90b3R5cGUuaGFzTGFzdEhhbmd1bFVuZGVyID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICgwLCBfaGFzTGFzdFVuZGVyMi5kZWZhdWx0KSh0aGlzLnRvU3RyaW5nKCkpO1xuXHR9O1xuXHRcblx0U3RyaW5nLnByb3RvdHlwZS50b0hhbmd1bE51bWJlciA9IGZ1bmN0aW9uIChkZWxpbWl0ZXIpIHtcblx0ICAgIHJldHVybiAoMCwgX2Zvcm1hdE51bWJlcjIuZGVmYXVsdCkodGhpcy50b1N0cmluZygpLCBkZWxpbWl0ZXIpO1xuXHR9O1xuXHRcblx0TnVtYmVyLnByb3RvdHlwZS50b0hhbmd1bCA9IGZ1bmN0aW9uIChkZWxpbWl0ZXIpIHtcblx0ICAgIHJldHVybiAoMCwgX2Zvcm1hdE51bWJlcjIuZGVmYXVsdCkodGhpcy50b1N0cmluZygpLCBkZWxpbWl0ZXIpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnXG5cdFxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIOusuOyekOyXtOydtCDtlZzquIDsnbjsp4Ag6rKA7IKs7ZWc64ukXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBzdHIg66y47J6Q7Je0XG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuXSDqsoDsgqzquLjsnbRcblx0ICogQHJldHVybiB7Ym9vbGVhbn0g6rKA7IKs6rKw6rO8XG5cdCAqL1xuXHQ7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc3RyLCBsZW4pIHtcblx0ICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJyB8fCBzdHIubGVuZ3RoID09PSAwKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgICAgaWYgKCFsZW4gfHwgbGVuIDwgMCB8fCBsZW4gPiBzdHIubGVuZ3RoKSB7XG5cdCAgICAgICAgbGVuID0gc3RyLmxlbmd0aDtcblx0ICAgIH1cblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgICB2YXIgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuXHQgICAgICAgIGlmIChjIDwgMHhBQzAwIHx8IGMgPiAweEQ3QTMpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiB0cnVlO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzdHIpIHtcblx0ICAgIGlmICghKDAsIF9pc0hhbmd1bDIuZGVmYXVsdCkoc3RyLCAxKSkge1xuXHQgICAgICAgIHJldHVybiB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyA/IHN0ci5jaGFyQXQoMCkgOiBzdHI7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gX2luaXRpYWxDb25zb25hbnRzMi5kZWZhdWx0W3BhcnNlSW50KCgoc3RyLmNoYXJDb2RlQXQoMCkgJiAweEZGRkYpIC0gMHhBQzAwKSAvICgyMSAqIDI4KSldO1xuXHR9O1xuXHRcblx0dmFyIF9pc0hhbmd1bCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cblx0dmFyIF9pc0hhbmd1bDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0hhbmd1bCk7XG5cblx0dmFyIF9pbml0aWFsQ29uc29uYW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0dmFyIF9pbml0aWFsQ29uc29uYW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbml0aWFsQ29uc29uYW50cyk7XG5cblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFsn44SxJywgJ+OEsicsICfjhLQnLCAn44S3JywgJ+OEuCcsICfjhLknLCAn44WBJywgJ+OFgicsICfjhYMnLCAn44WFJywgJ+OFhicsICfjhYcnLCAn44WIJywgJ+OFiScsICfjhYonLCAn44WLJywgJ+OFjCcsICfjhY0nLCAn44WOJ107XG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHN0cikge1xuXHQgICAgaWYgKCEoMCwgX2lzSGFuZ3VsMi5kZWZhdWx0KShzdHIsIDEpKSB7XG5cdCAgICAgICAgcmV0dXJuIHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnID8gc3RyLmNoYXJBdCgwKSA6IHN0cjtcblx0ICAgIH1cblx0ICAgIHJldHVybiBfdm93ZWxzMi5kZWZhdWx0W3BhcnNlSW50KCgoc3RyLmNoYXJDb2RlQXQoMCkgJiAweEZGRkYpIC0gMHhBQzAwKSAlICgyMSAqIDI4KSAvIDI4KV07XG5cdH07XG5cdFxuXHR2YXIgX2lzSGFuZ3VsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxuXHR2YXIgX2lzSGFuZ3VsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzSGFuZ3VsKTtcblxuXHR2YXIgX3Zvd2VscyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cblx0dmFyIF92b3dlbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdm93ZWxzKTtcblxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKioqLyB9LFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gWyfjhY8nLCAn44WQJywgJ+OFkScsICfjhZInLCAn44WTJywgJ+OFlCcsICfjhZUnLCAn44WWJywgJ+OFlycsICfjhZgnLCAn44WZJywgJ+OFmicsICfjhZsnLCAn44WcJywgJ+OFnScsICfjhZ4nLCAn44WfJywgJ+OFoCcsICfjhaEnLCAn44WiJywgJ+OFoyddO1xuXG4vKioqLyB9LFxuLyogNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzdHIpIHtcblx0ICAgIGlmICghKDAsIF9pc0hhbmd1bDIuZGVmYXVsdCkoc3RyLCAxKSkge1xuXHQgICAgICAgIHJldHVybiB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyA/IHN0ci5jaGFyQXQoMCkgOiBzdHI7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gX2ZpbmFsQ29uc29uYW50czIuZGVmYXVsdFtwYXJzZUludCgoKHN0ci5jaGFyQ29kZUF0KDApICYgMHhGRkZGKSAtIDB4QUMwMCkgJSAoMjEgKiAyOCkgJSAyOCldO1xuXHR9O1xuXHRcblx0dmFyIF9pc0hhbmd1bCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cblx0dmFyIF9pc0hhbmd1bDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0hhbmd1bCk7XG5cblx0dmFyIF9maW5hbENvbnNvbmFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG5cdHZhciBfZmluYWxDb25zb25hbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ZpbmFsQ29uc29uYW50cyk7XG5cblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqKi8gfSxcbi8qIDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFsnJywgJ+OEsScsICfjhLInLCAn44SzJywgJ+OEtCcsICfjhLUnLCAn44S2JywgJ+OEtycsICfjhLknLCAn44S6JywgJ+OEuycsICfjhLwnLCAn44S9JywgJ+OEvicsICfjhL8nLCAn44WAJywgJ+OFgScsICfjhYInLCAn44WEJywgJ+OFhScsICfjhYYnLCAn44WHJywgJ+OFiCcsICfjhYonLCAn44WLJywgJ+OFjCcsICfjhY0nLCAn44WOJ107XG5cbi8qKiovIH0sXG4vKiA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzdHIpIHtcblx0ICByZXR1cm4gKDAsIF9pc0hhbmd1bDIuZGVmYXVsdCkoc3RyLCAxKSAmJiAoMCwgX3VuZGVyMi5kZWZhdWx0KShzdHIpICE9PSAnJztcblx0fTtcblx0XG5cdHZhciBfaXNIYW5ndWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG5cdHZhciBfaXNIYW5ndWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNIYW5ndWwpO1xuXG5cdHZhciBfdW5kZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG5cdHZhciBfdW5kZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdW5kZXIpO1xuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKiovIH0sXG4vKiA5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHN0cikge1xuXHQgICAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnIHx8IHN0ci5sZW5ndGggPT09IDApIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gKDAsIF9oYXNVbmRlcjIuZGVmYXVsdCkoc3RyLmNoYXJBdChzdHIubGVuZ3RoIC0gMSkpO1xuXHR9O1xuXHRcblx0dmFyIF9oYXNVbmRlciA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cblx0dmFyIF9oYXNVbmRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYXNVbmRlcik7XG5cblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqKi8gfSxcbi8qIDEwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKG51bWJlciwgZGVsaW1pdGVyKSB7XG5cdCAgICBpZiAodHlwZW9mIG51bWJlciA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiJ251bWJlcicgaXMgdW5kZWZpbmVkXCIpO1xuXHQgICAgfVxuXHQgICAgaWYgKHR5cGVvZiBudW1iZXIgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgbnVtYmVyID0gbnVtYmVyLnRvU3RyaW5nKCk7XG5cdCAgICB9XG5cdCAgICBpZiAoIS9eWzAtOV0rJC8udGVzdChudW1iZXIpKSB7XG5cdCAgICAgICAgcmV0dXJuIG51bWJlcjtcblx0ICAgIH1cblx0ICAgIGlmIChudW1iZXIuY2hhckF0KDApID09PSAnMCcpIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IG51bWJlci5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBpZiAobnVtYmVyLmNoYXJBdChpKSA9PT0gJzAnKSB7XG5cdCAgICAgICAgICAgICAgICBjb250aW51ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBudW1iZXIgPSBudW1iZXIuc3Vic3RyaW5nKGkpO1xuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBpZiAobnVtYmVyLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICAgIHJldHVybiBfbnVtYmVyczIuZGVmYXVsdFswXTtcblx0ICAgIH1cblx0ICAgIGlmIChudW1iZXIubGVuZ3RoID09PSAxKSB7XG5cdCAgICAgICAgcmV0dXJuIF9udW1iZXJzMi5kZWZhdWx0W251bWJlci5jaGFyQXQoMCldO1xuXHQgICAgfVxuXHQgICAgdmFyIHNwbGl0ZWROdW1iZXJzID0gbnVtYmVyLnNwbGl0KCcnKS5tYXAoZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgICByZXR1cm4gcGFyc2VJbnQoYSk7XG5cdCAgICB9KTtcblx0ICAgIHZhciByZXZlcnNlZE51bWJlcnMgPSBzcGxpdGVkTnVtYmVycy5yZXZlcnNlKCk7XG5cdCAgICB2YXIgZ3JvdXBlZE51bWJlcnMgPSBbXTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmV2ZXJzZWROdW1iZXJzLmxlbmd0aDsgaSArPSA0KSB7XG5cdCAgICAgICAgZ3JvdXBlZE51bWJlcnMucHVzaChyZXZlcnNlZE51bWJlcnMuc2xpY2UoaSwgaSArIDQpKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBncm91cGVkTnVtYmVycy5tYXAoZnVuY3Rpb24gKG51bXMsIGkpIHtcblx0ICAgICAgICB2YXIgaG51bXMgPSBudW1zLm1hcChmdW5jdGlvbiAobiwgaikge1xuXHQgICAgICAgICAgICB2YXIgaG51bSA9IG4gPiAxIHx8IGogPT09IDAgJiYgbiA9PT0gMSA/IF9udW1iZXJzMi5kZWZhdWx0W25dIDogJyc7XG5cdCAgICAgICAgICAgIHZhciB1bml0ID0gbiA+IDAgJiYgaiA+IDAgPyBfbGFyZ2VOdW1iZXJzMi5kZWZhdWx0WzBdW2ogLSAxXSA6ICcnO1xuXHQgICAgICAgICAgICByZXR1cm4gaG51bSArIHVuaXQ7XG5cdCAgICAgICAgfSkucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBiICsgYTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICB2YXIgbHVuaXQgPSBpID4gMCAmJiBobnVtcy5sZW5ndGggPiAwID8gX2xhcmdlTnVtYmVyczIuZGVmYXVsdFsxXVsoaSAtIDEpICUgNF0gOiAnJztcblx0ICAgICAgICByZXR1cm4gaG51bXMgKyBsdW5pdDtcblx0ICAgIH0pLmZpbHRlcihmdW5jdGlvbiAoYSkge1xuXHQgICAgICAgIHJldHVybiBhLmxlbmd0aCA+IDA7XG5cdCAgICB9KS5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcblx0ICAgICAgICByZXR1cm4gYiArIChkZWxpbWl0ZXIgfHwgJycpICsgYTtcblx0ICAgIH0pO1xuXHR9O1xuXHRcblx0dmFyIF9udW1iZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cblx0dmFyIF9udW1iZXJzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX251bWJlcnMpO1xuXG5cdHZhciBfbGFyZ2VOdW1iZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cblx0dmFyIF9sYXJnZU51bWJlcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGFyZ2VOdW1iZXJzKTtcblxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKioqLyB9LFxuLyogMTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFsn7JiBJywgJ+ydvCcsICfsnbQnLCAn7IK8JywgJ+yCrCcsICfsmKQnLCAn7JyhJywgJ+y5oCcsICftjJQnLCAn6rWsJ107XG5cbi8qKiovIH0sXG4vKiAxMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gW1sn7IutJywgJ+uwsScsICfsspwnXSwgWyfrp4wnLCAn7Ja1JywgJ+yhsCcsICfqsr0nXV07XG5cbi8qKiovIH1cbi8qKioqKiovIF0pXG59KTtcbjsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
