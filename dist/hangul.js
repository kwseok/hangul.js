!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.hangul=e():t.hangul=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var u=n[r]={i:r,l:!1,exports:{}};return t[r].call(u.exports,u,u.exports,e),u.l=!0,u.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if("string"!=typeof t||0===t.length)return!1;(!e||e<0||e>t.length)&&(e=t.length);for(var n=0;n<e;n++){var r=t.charCodeAt(n);if(r<44032||r>55203)return!1}return!0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,o.default)(t,1)?i.default[parseInt(((65535&t.charCodeAt(0))-44032)%588%28)]:"string"==typeof t?t.charAt(0):t};var u=n(0),o=r(u),f=n(8),i=r(f)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,o.default)(t,1)&&""!==(0,i.default)(t)};var u=n(0),o=r(u),f=n(1),i=r(f)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var u=n(0),o=r(u),f=n(4),i=r(f),l=n(6),a=r(l),d=n(1),c=r(d),s=n(2),p=r(s),g=n(9),h=r(g),_=n(10),y=r(_);e.default={is:o.default,initial:i.default,vowel:a.default,under:c.default,hasUnder:p.default,hasLastUnder:h.default,formatNumber:y.default},String.prototype.isHangul=function(t){return(0,o.default)(this.toString(),t)},String.prototype.hangulInitial=function(){return(0,i.default)(this.toString())},String.prototype.hangulVowel=function(){return(0,a.default)(this.toString())},String.prototype.hangulUnder=function(){return(0,c.default)(this.toString())},String.prototype.hasHangulUnder=function(){return(0,p.default)(this.toString())},String.prototype.hasLastHangulUnder=function(){return(0,h.default)(this.toString())},String.prototype.toHangulNumber=function(t){return(0,y.default)(this.toString(),t)},Number.prototype.toHangul=function(t){return(0,y.default)(this.toString(),t)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,o.default)(t,1)?i.default[parseInt(((65535&t.charCodeAt(0))-44032)/588)]:"string"==typeof t?t.charAt(0):t};var u=n(0),o=r(u),f=n(5),i=r(f)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,o.default)(t,1)?i.default[parseInt(((65535&t.charCodeAt(0))-44032)%588/28)]:"string"==typeof t?t.charAt(0):t};var u=n(0),o=r(u),f=n(7),i=r(f)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return"string"==typeof t&&0!==t.length&&(0,u.default)(t.charAt(t.length-1))};var r=n(2),u=function(t){return t&&t.__esModule?t:{default:t}}(r)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(void 0===t)throw new TypeError("'number' is undefined");if("string"!=typeof t&&(t=t.toString()),!/^[0-9]+$/.test(t))return t;if("0"===t.charAt(0))for(var n=1;n<t.length;n++)if("0"!==t.charAt(n)){t=t.substring(n);break}if(0===t.length)return o.default[0];if(1===t.length)return o.default[t.charAt(0)];for(var r=t.split("").map(function(t){return parseInt(t)}),u=r.reverse(),f=[],l=0;l<u.length;l+=4)f.push(u.slice(l,l+4));return f.map(function(t,e){var n=t.map(function(t,e){return(t>1||0===e&&1===t?o.default[t]:"")+(t>0&&e>0?i.default[0][e-1]:"")}).reduce(function(t,e){return e+t});return n+(e>0&&n.length>0?i.default[1][(e-1)%4]:"")}).filter(function(t){return t.length>0}).reduce(function(t,n){return n+(e||"")+t})};var u=n(11),o=r(u),f=n(12),i=r(f)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=["영","일","이","삼","사","오","육","칠","팔","구"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=[["십","백","천"],["만","억","조","경"]]}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9oYW5ndWwuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIGQwM2MzODhlZjMwYTM4MDBiYWJhIiwid2VicGFjazovLy8uL3NyYy9pc0hhbmd1bC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hhc1VuZGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5pdGlhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdmFycy9pbml0aWFsQ29uc29uYW50cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdm93ZWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZhcnMvdm93ZWxzLmpzIiwid2VicGFjazovLy8uL3NyYy92YXJzL2ZpbmFsQ29uc29uYW50cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaGFzTGFzdFVuZGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9mb3JtYXROdW1iZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZhcnMvbnVtYmVycy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdmFycy9sYXJnZU51bWJlcnMuanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsInRoaXMiLCJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImkiLCJsIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ2YWx1ZSIsImRlZmF1bHQiLCJzdHIiLCJsZW4iLCJsZW5ndGgiLCJjaGFyQ29kZUF0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9pc0hhbmd1bDIiLCJfZmluYWxDb25zb25hbnRzMiIsInBhcnNlSW50IiwiY2hhckF0IiwiX2lzSGFuZ3VsIiwiX2ZpbmFsQ29uc29uYW50cyIsIl91bmRlcjIiLCJfdW5kZXIiLCJfaW5pdGlhbCIsIl9pbml0aWFsMiIsIl92b3dlbCIsIl92b3dlbDIiLCJfaGFzVW5kZXIiLCJfaGFzVW5kZXIyIiwiX2hhc0xhc3RVbmRlciIsIl9oYXNMYXN0VW5kZXIyIiwiX2Zvcm1hdE51bWJlciIsIl9mb3JtYXROdW1iZXIyIiwiaXMiLCJpbml0aWFsIiwidm93ZWwiLCJ1bmRlciIsImhhc1VuZGVyIiwiaGFzTGFzdFVuZGVyIiwiZm9ybWF0TnVtYmVyIiwiU3RyaW5nIiwiaXNIYW5ndWwiLCJ0b1N0cmluZyIsImhhbmd1bEluaXRpYWwiLCJoYW5ndWxWb3dlbCIsImhhbmd1bFVuZGVyIiwiaGFzSGFuZ3VsVW5kZXIiLCJoYXNMYXN0SGFuZ3VsVW5kZXIiLCJ0b0hhbmd1bE51bWJlciIsImRlbGltaXRlciIsIk51bWJlciIsInRvSGFuZ3VsIiwiX2luaXRpYWxDb25zb25hbnRzMiIsIl9pbml0aWFsQ29uc29uYW50cyIsIl92b3dlbHMyIiwiX3Zvd2VscyIsIm51bWJlciIsIlR5cGVFcnJvciIsInRlc3QiLCJzdWJzdHJpbmciLCJfbnVtYmVyczIiLCJzcGxpdGVkTnVtYmVycyIsInNwbGl0IiwibWFwIiwiYSIsInJldmVyc2VkTnVtYmVycyIsInJldmVyc2UiLCJncm91cGVkTnVtYmVycyIsInB1c2giLCJzbGljZSIsIm51bXMiLCJobnVtcyIsImoiLCJfbGFyZ2VOdW1iZXJzMiIsInJlZHVjZSIsImIiLCJmaWx0ZXIiLCJfbnVtYmVycyIsIl9sYXJnZU51bWJlcnMiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEdBQ0EsZ0JBQUFDLFVB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QUFKLE1BQVVBLEdBQUlYLEdBRXhCLE9BQU9PLElBRE10RixFQUFJLEdBQUtzRixFQUFNNUQsT0FBUyxFQUFLOEQsRUFBQWpFLFFBQWMsSUFBSXZCLEVBQUksR0FBSyxHQUFLLE1BRTNFMkYsT0FBTyxTQUFBWixHQUFBLE1BQUtBLEdBQUVyRCxPQUFTLElBQUcrRCxPQUFPLFNBQUNWLEVBQUdXLEdBQUosTUFBVUEsSUFBSzFCLEdBQWEsSUFBTWUsSUFoRDFFLElBQUFhLEdBQUEvRixFQUFBLEladWFJOEUsRUFBWS9DLEVBQXVCZ0UsR1l0YXZDQyxFQUFBaEcsRUFBQSxJWjBhSTJGLEVBQWlCNUQsRUFBdUJpRSxJQU10QyxTQUFVdEcsRUFBUUQsRUFBU08sR0FFakMsWUFHQVksUUFBT0MsZUFBZXBCLEVBQVMsY0FDM0JnQyxPQUFPLElBRVhoQyxFQUFRaUMsU2F4YkosSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsTWJtYkUsU0FBVWhDLEVBQVFELEVBQVNPLEdBRWpDLFlBR0FZLFFBQU9DLGVBQWVwQixFQUFTLGNBQzNCZ0MsT0FBTyxJQUVYaEMsRUFBUWlDLFVjcGNILElBQUssSUFBSyxNQUNWLElBQUssSUFBSyxJQUFLIiwiZmlsZSI6Imhhbmd1bC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImhhbmd1bFwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJoYW5ndWxcIl0gPSBmYWN0b3J5KCk7XG59KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImhhbmd1bFwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJoYW5ndWxcIl0gPSBmYWN0b3J5KCk7XG59KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuLyoqKioqKi8gXHRcdFx0XHRnZXQ6IGdldHRlclxuLyoqKioqKi8gXHRcdFx0fSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDrrLjsnpDsl7TsnbQg7ZWc6riA7J247KeAIOqygOyCrO2VnOuLpFxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciDrrLjsnpDsl7RcbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuXSDqsoDsgqzquLjsnbRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IOqygOyCrOqysOqzvFxuICovXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHN0ciwgbGVuKSB7XG4gICAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnIHx8IHN0ci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIWxlbiB8fCBsZW4gPCAwIHx8IGxlbiA+IHN0ci5sZW5ndGgpIHtcbiAgICAgICAgbGVuID0gc3RyLmxlbmd0aDtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoYyA8IDB4QUMwMCB8fCBjID4gMHhEN0EzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgaWYgKCEoMCwgX2lzSGFuZ3VsMi5kZWZhdWx0KShzdHIsIDEpKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyA/IHN0ci5jaGFyQXQoMCkgOiBzdHI7XG4gICAgfVxuICAgIHJldHVybiBfZmluYWxDb25zb25hbnRzMi5kZWZhdWx0W3BhcnNlSW50KCgoc3RyLmNoYXJDb2RlQXQoMCkgJiAweEZGRkYpIC0gMHhBQzAwKSAlICgyMSAqIDI4KSAlIDI4KV07XG59O1xuXG52YXIgX2lzSGFuZ3VsID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9pc0hhbmd1bDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0hhbmd1bCk7XG5cbnZhciBfZmluYWxDb25zb25hbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9maW5hbENvbnNvbmFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZmluYWxDb25zb25hbnRzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuICgwLCBfaXNIYW5ndWwyLmRlZmF1bHQpKHN0ciwgMSkgJiYgKDAsIF91bmRlcjIuZGVmYXVsdCkoc3RyKSAhPT0gJyc7XG59O1xuXG52YXIgX2lzSGFuZ3VsID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9pc0hhbmd1bDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0hhbmd1bCk7XG5cbnZhciBfdW5kZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3VuZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VuZGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9pc0hhbmd1bCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfaXNIYW5ndWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNIYW5ndWwpO1xuXG52YXIgX2luaXRpYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX2luaXRpYWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5pdGlhbCk7XG5cbnZhciBfdm93ZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3Zvd2VsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Zvd2VsKTtcblxudmFyIF91bmRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfdW5kZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdW5kZXIpO1xuXG52YXIgX2hhc1VuZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9oYXNVbmRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYXNVbmRlcik7XG5cbnZhciBfaGFzTGFzdFVuZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIF9oYXNMYXN0VW5kZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGFzTGFzdFVuZGVyKTtcblxudmFyIF9mb3JtYXROdW1iZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxudmFyIF9mb3JtYXROdW1iZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZm9ybWF0TnVtYmVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICAgIGlzOiBfaXNIYW5ndWwyLmRlZmF1bHQsXG4gICAgaW5pdGlhbDogX2luaXRpYWwyLmRlZmF1bHQsXG4gICAgdm93ZWw6IF92b3dlbDIuZGVmYXVsdCxcbiAgICB1bmRlcjogX3VuZGVyMi5kZWZhdWx0LFxuICAgIGhhc1VuZGVyOiBfaGFzVW5kZXIyLmRlZmF1bHQsXG4gICAgaGFzTGFzdFVuZGVyOiBfaGFzTGFzdFVuZGVyMi5kZWZhdWx0LFxuICAgIGZvcm1hdE51bWJlcjogX2Zvcm1hdE51bWJlcjIuZGVmYXVsdFxufTtcblxuXG5TdHJpbmcucHJvdG90eXBlLmlzSGFuZ3VsID0gZnVuY3Rpb24gKGxlbikge1xuICAgIHJldHVybiAoMCwgX2lzSGFuZ3VsMi5kZWZhdWx0KSh0aGlzLnRvU3RyaW5nKCksIGxlbik7XG59O1xuXG5TdHJpbmcucHJvdG90eXBlLmhhbmd1bEluaXRpYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICgwLCBfaW5pdGlhbDIuZGVmYXVsdCkodGhpcy50b1N0cmluZygpKTtcbn07XG5cblN0cmluZy5wcm90b3R5cGUuaGFuZ3VsVm93ZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICgwLCBfdm93ZWwyLmRlZmF1bHQpKHRoaXMudG9TdHJpbmcoKSk7XG59O1xuXG5TdHJpbmcucHJvdG90eXBlLmhhbmd1bFVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoMCwgX3VuZGVyMi5kZWZhdWx0KSh0aGlzLnRvU3RyaW5nKCkpO1xufTtcblxuU3RyaW5nLnByb3RvdHlwZS5oYXNIYW5ndWxVbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKDAsIF9oYXNVbmRlcjIuZGVmYXVsdCkodGhpcy50b1N0cmluZygpKTtcbn07XG5cblN0cmluZy5wcm90b3R5cGUuaGFzTGFzdEhhbmd1bFVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoMCwgX2hhc0xhc3RVbmRlcjIuZGVmYXVsdCkodGhpcy50b1N0cmluZygpKTtcbn07XG5cblN0cmluZy5wcm90b3R5cGUudG9IYW5ndWxOdW1iZXIgPSBmdW5jdGlvbiAoZGVsaW1pdGVyKSB7XG4gICAgcmV0dXJuICgwLCBfZm9ybWF0TnVtYmVyMi5kZWZhdWx0KSh0aGlzLnRvU3RyaW5nKCksIGRlbGltaXRlcik7XG59O1xuXG5OdW1iZXIucHJvdG90eXBlLnRvSGFuZ3VsID0gZnVuY3Rpb24gKGRlbGltaXRlcikge1xuICAgIHJldHVybiAoMCwgX2Zvcm1hdE51bWJlcjIuZGVmYXVsdCkodGhpcy50b1N0cmluZygpLCBkZWxpbWl0ZXIpO1xufTtcblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHN0cikge1xuICAgIGlmICghKDAsIF9pc0hhbmd1bDIuZGVmYXVsdCkoc3RyLCAxKSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN0ciA9PT0gJ3N0cmluZycgPyBzdHIuY2hhckF0KDApIDogc3RyO1xuICAgIH1cbiAgICByZXR1cm4gX2luaXRpYWxDb25zb25hbnRzMi5kZWZhdWx0W3BhcnNlSW50KCgoc3RyLmNoYXJDb2RlQXQoMCkgJiAweEZGRkYpIC0gMHhBQzAwKSAvICgyMSAqIDI4KSldO1xufTtcblxudmFyIF9pc0hhbmd1bCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfaXNIYW5ndWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNIYW5ndWwpO1xuXG52YXIgX2luaXRpYWxDb25zb25hbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbml0aWFsQ29uc29uYW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbml0aWFsQ29uc29uYW50cyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBbJ+OEsScsICfjhLInLCAn44S0JywgJ+OEtycsICfjhLgnLCAn44S5JywgJ+OFgScsICfjhYInLCAn44WDJywgJ+OFhScsICfjhYYnLCAn44WHJywgJ+OFiCcsICfjhYknLCAn44WKJywgJ+OFiycsICfjhYwnLCAn44WNJywgJ+OFjiddO1xuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgaWYgKCEoMCwgX2lzSGFuZ3VsMi5kZWZhdWx0KShzdHIsIDEpKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyA/IHN0ci5jaGFyQXQoMCkgOiBzdHI7XG4gICAgfVxuICAgIHJldHVybiBfdm93ZWxzMi5kZWZhdWx0W3BhcnNlSW50KCgoc3RyLmNoYXJDb2RlQXQoMCkgJiAweEZGRkYpIC0gMHhBQzAwKSAlICgyMSAqIDI4KSAvIDI4KV07XG59O1xuXG52YXIgX2lzSGFuZ3VsID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9pc0hhbmd1bDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0hhbmd1bCk7XG5cbnZhciBfdm93ZWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxudmFyIF92b3dlbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdm93ZWxzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IFsn44WPJywgJ+OFkCcsICfjhZEnLCAn44WSJywgJ+OFkycsICfjhZQnLCAn44WVJywgJ+OFlicsICfjhZcnLCAn44WYJywgJ+OFmScsICfjhZonLCAn44WbJywgJ+OFnCcsICfjhZ0nLCAn44WeJywgJ+OFnycsICfjhaAnLCAn44WhJywgJ+OFoicsICfjhaMnXTtcblxuLyoqKi8gfSksXG4vKiA4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IFsnJywgJ+OEsScsICfjhLInLCAn44SzJywgJ+OEtCcsICfjhLUnLCAn44S2JywgJ+OEtycsICfjhLknLCAn44S6JywgJ+OEuycsICfjhLwnLCAn44S9JywgJ+OEvicsICfjhL8nLCAn44WAJywgJ+OFgScsICfjhYInLCAn44WEJywgJ+OFhScsICfjhYYnLCAn44WHJywgJ+OFiCcsICfjhYonLCAn44WLJywgJ+OFjCcsICfjhY0nLCAn44WOJ107XG5cbi8qKiovIH0pLFxuLyogOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycgfHwgc3RyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAoMCwgX2hhc1VuZGVyMi5kZWZhdWx0KShzdHIuY2hhckF0KHN0ci5sZW5ndGggLSAxKSk7XG59O1xuXG52YXIgX2hhc1VuZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9oYXNVbmRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYXNVbmRlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKiovIH0pLFxuLyogMTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAobnVtYmVyLCBkZWxpbWl0ZXIpIHtcbiAgICBpZiAodHlwZW9mIG51bWJlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIidudW1iZXInIGlzIHVuZGVmaW5lZFwiKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBudW1iZXIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIG51bWJlciA9IG51bWJlci50b1N0cmluZygpO1xuICAgIH1cbiAgICBpZiAoIS9eWzAtOV0rJC8udGVzdChudW1iZXIpKSB7XG4gICAgICAgIHJldHVybiBudW1iZXI7XG4gICAgfVxuICAgIGlmIChudW1iZXIuY2hhckF0KDApID09PSAnMCcpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBudW1iZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChudW1iZXIuY2hhckF0KGkpID09PSAnMCcpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG51bWJlciA9IG51bWJlci5zdWJzdHJpbmcoaSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobnVtYmVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gX251bWJlcnMyLmRlZmF1bHRbMF07XG4gICAgfVxuICAgIGlmIChudW1iZXIubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBfbnVtYmVyczIuZGVmYXVsdFtudW1iZXIuY2hhckF0KDApXTtcbiAgICB9XG4gICAgdmFyIHNwbGl0ZWROdW1iZXJzID0gbnVtYmVyLnNwbGl0KCcnKS5tYXAoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGEpO1xuICAgIH0pO1xuICAgIHZhciByZXZlcnNlZE51bWJlcnMgPSBzcGxpdGVkTnVtYmVycy5yZXZlcnNlKCk7XG4gICAgdmFyIGdyb3VwZWROdW1iZXJzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHJldmVyc2VkTnVtYmVycy5sZW5ndGg7IF9pICs9IDQpIHtcbiAgICAgICAgZ3JvdXBlZE51bWJlcnMucHVzaChyZXZlcnNlZE51bWJlcnMuc2xpY2UoX2ksIF9pICsgNCkpO1xuICAgIH1cbiAgICByZXR1cm4gZ3JvdXBlZE51bWJlcnMubWFwKGZ1bmN0aW9uIChudW1zLCBpKSB7XG4gICAgICAgIHZhciBobnVtcyA9IG51bXMubWFwKGZ1bmN0aW9uIChuLCBqKSB7XG4gICAgICAgICAgICB2YXIgaG51bSA9IG4gPiAxIHx8IGogPT09IDAgJiYgbiA9PT0gMSA/IF9udW1iZXJzMi5kZWZhdWx0W25dIDogJyc7XG4gICAgICAgICAgICB2YXIgdW5pdCA9IG4gPiAwICYmIGogPiAwID8gX2xhcmdlTnVtYmVyczIuZGVmYXVsdFswXVtqIC0gMV0gOiAnJztcbiAgICAgICAgICAgIHJldHVybiBobnVtICsgdW5pdDtcbiAgICAgICAgfSkucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYiArIGE7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgbHVuaXQgPSBpID4gMCAmJiBobnVtcy5sZW5ndGggPiAwID8gX2xhcmdlTnVtYmVyczIuZGVmYXVsdFsxXVsoaSAtIDEpICUgNF0gOiAnJztcbiAgICAgICAgcmV0dXJuIGhudW1zICsgbHVuaXQ7XG4gICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgIHJldHVybiBhLmxlbmd0aCA+IDA7XG4gICAgfSkucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBiICsgKGRlbGltaXRlciB8fCAnJykgKyBhO1xuICAgIH0pO1xufTtcblxudmFyIF9udW1iZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cbnZhciBfbnVtYmVyczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9udW1iZXJzKTtcblxudmFyIF9sYXJnZU51bWJlcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblxudmFyIF9sYXJnZU51bWJlcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGFyZ2VOdW1iZXJzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqKi8gfSksXG4vKiAxMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBbJ+yYgScsICfsnbwnLCAn7J20JywgJ+yCvCcsICfsgqwnLCAn7JikJywgJ+ycoScsICfsuaAnLCAn7YyUJywgJ+q1rCddO1xuXG4vKioqLyB9KSxcbi8qIDEyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IFtbJ+yLrScsICfrsLEnLCAn7LKcJ10sIFsn66eMJywgJ+yWtScsICfsobAnLCAn6rK9J11dO1xuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7XG59KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gaGFuZ3VsLmpzIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgZDAzYzM4OGVmMzBhMzgwMGJhYmEiLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOusuOyekOyXtOydtCDtlZzquIDsnbjsp4Ag6rKA7IKs7ZWc64ukXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIOusuOyekOyXtFxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5dIOqygOyCrOq4uOydtFxuICogQHJldHVybiB7Ym9vbGVhbn0g6rKA7IKs6rKw6rO8XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHN0ciwgbGVuKSB7XG4gICAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnIHx8IHN0ci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIWxlbiB8fCBsZW4gPCAwIHx8IGxlbiA+IHN0ci5sZW5ndGgpIHtcbiAgICAgICAgbGVuID0gc3RyLmxlbmd0aDtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBsZXQgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoYyA8IDB4QUMwMCB8fCBjID4gMHhEN0EzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaXNIYW5ndWwuanMiLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBpc0hhbmd1bCBmcm9tICcuL2lzSGFuZ3VsJ1xuaW1wb3J0IEZJTkFMX0NPTlNPTkFOVFMgZnJvbSAnLi92YXJzL2ZpbmFsQ29uc29uYW50cydcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g7ZWc6riAIO2VnOusuOyekOyXkOyEnCDsooXshLHsnYQg67aE66as7ZW07IScIOqwgOyguOyYqOuLpFxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciDrrLjsnpBcbiAqIEByZXR1cm4ge3N0cmluZ30g7KKF7ISxXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHN0cikge1xuICAgIGlmICghaXNIYW5ndWwoc3RyLCAxKSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN0ciA9PT0gJ3N0cmluZycgPyBzdHIuY2hhckF0KDApIDogc3RyO1xuICAgIH1cbiAgICByZXR1cm4gRklOQUxfQ09OU09OQU5UU1twYXJzZUludCgoKChzdHIuY2hhckNvZGVBdCgwKSAmIDB4RkZGRikgLSAweEFDMDApICUgKDIxICogMjgpKSAlIDI4KV07XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdW5kZXIuanMiLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBpc0hhbmd1bCBmcm9tICcuL2lzSGFuZ3VsJ1xuaW1wb3J0IHVuZGVyIGZyb20gJy4vdW5kZXInXG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIO2VnOusuOyekOydmCDsooXshLHsnZgg7Jyg66y066W8IOqygOyCrO2VnOuLpFxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciDrrLjsnpBcbiAqIEByZXR1cm4ge2Jvb2xlYW59IOyiheyEseydmCDsnKDrrLRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc3RyKSB7XG4gICAgcmV0dXJuIGlzSGFuZ3VsKHN0ciwgMSkgJiYgdW5kZXIoc3RyKSAhPT0gJyc7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaGFzVW5kZXIuanMiLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBpc0hhbmd1bCBmcm9tICcuL2lzSGFuZ3VsJ1xuaW1wb3J0IGluaXRpYWwgZnJvbSAnLi9pbml0aWFsJ1xuaW1wb3J0IHZvd2VsIGZyb20gJy4vdm93ZWwnXG5pbXBvcnQgdW5kZXIgZnJvbSAnLi91bmRlcidcbmltcG9ydCBoYXNVbmRlciBmcm9tICcuL2hhc1VuZGVyJ1xuaW1wb3J0IGhhc0xhc3RVbmRlciBmcm9tICcuL2hhc0xhc3RVbmRlcidcbmltcG9ydCBmb3JtYXROdW1iZXIgZnJvbSAnLi9mb3JtYXROdW1iZXInXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBpczogaXNIYW5ndWwsXG4gICAgaW5pdGlhbDogaW5pdGlhbCxcbiAgICB2b3dlbDogdm93ZWwsXG4gICAgdW5kZXI6IHVuZGVyLFxuICAgIGhhc1VuZGVyOiBoYXNVbmRlcixcbiAgICBoYXNMYXN0VW5kZXI6IGhhc0xhc3RVbmRlcixcbiAgICBmb3JtYXROdW1iZXI6IGZvcm1hdE51bWJlclxufTtcblxuU3RyaW5nLnByb3RvdHlwZS5pc0hhbmd1bCA9IGZ1bmN0aW9uKGxlbikge1xuICAgIHJldHVybiBpc0hhbmd1bCh0aGlzLnRvU3RyaW5nKCksIGxlbik7XG59O1xuXG5TdHJpbmcucHJvdG90eXBlLmhhbmd1bEluaXRpYWwgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaW5pdGlhbCh0aGlzLnRvU3RyaW5nKCkpO1xufTtcblxuU3RyaW5nLnByb3RvdHlwZS5oYW5ndWxWb3dlbCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB2b3dlbCh0aGlzLnRvU3RyaW5nKCkpO1xufTtcblxuU3RyaW5nLnByb3RvdHlwZS5oYW5ndWxVbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB1bmRlcih0aGlzLnRvU3RyaW5nKCkpO1xufTtcblxuU3RyaW5nLnByb3RvdHlwZS5oYXNIYW5ndWxVbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYXNVbmRlcih0aGlzLnRvU3RyaW5nKCkpO1xufTtcblxuU3RyaW5nLnByb3RvdHlwZS5oYXNMYXN0SGFuZ3VsVW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFzTGFzdFVuZGVyKHRoaXMudG9TdHJpbmcoKSk7XG59O1xuXG5TdHJpbmcucHJvdG90eXBlLnRvSGFuZ3VsTnVtYmVyID0gZnVuY3Rpb24oZGVsaW1pdGVyKSB7XG4gICAgcmV0dXJuIGZvcm1hdE51bWJlcih0aGlzLnRvU3RyaW5nKCksIGRlbGltaXRlcik7XG59O1xuXG5OdW1iZXIucHJvdG90eXBlLnRvSGFuZ3VsID0gZnVuY3Rpb24oZGVsaW1pdGVyKSB7XG4gICAgcmV0dXJuIGZvcm1hdE51bWJlcih0aGlzLnRvU3RyaW5nKCksIGRlbGltaXRlcik7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2luZGV4LmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgaXNIYW5ndWwgZnJvbSAnLi9pc0hhbmd1bCdcbmltcG9ydCBJTklUSUFMX0NPTlNPTkFOVFMgZnJvbSAnLi92YXJzL2luaXRpYWxDb25zb25hbnRzJ1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDtlZzquIAg7ZWc66y47J6Q7JeQ7IScIOy0iOyEseydhCDrtoTrpqztlbTshJwg6rCA7KC47Jio64ukXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIOusuOyekFxuICogQHJldHVybiB7c3RyaW5nfSDstIjshLFcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc3RyKSB7XG4gICAgaWYgKCFpc0hhbmd1bChzdHIsIDEpKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyA/IHN0ci5jaGFyQXQoMCkgOiBzdHI7XG4gICAgfVxuICAgIHJldHVybiBJTklUSUFMX0NPTlNPTkFOVFNbcGFyc2VJbnQoKChzdHIuY2hhckNvZGVBdCgwKSAmIDB4RkZGRikgLSAweEFDMDApIC8gKDIxICogMjgpKV07XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaW5pdGlhbC5qcyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQgW1xuICAgICfjhLEnLFxuICAgICfjhLInLFxuICAgICfjhLQnLFxuICAgICfjhLcnLFxuICAgICfjhLgnLFxuICAgICfjhLknLFxuICAgICfjhYEnLFxuICAgICfjhYInLFxuICAgICfjhYMnLFxuICAgICfjhYUnLFxuICAgICfjhYYnLFxuICAgICfjhYcnLFxuICAgICfjhYgnLFxuICAgICfjhYknLFxuICAgICfjhYonLFxuICAgICfjhYsnLFxuICAgICfjhYwnLFxuICAgICfjhY0nLFxuICAgICfjhY4nXG5dO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3ZhcnMvaW5pdGlhbENvbnNvbmFudHMuanMiLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBpc0hhbmd1bCBmcm9tICcuL2lzSGFuZ3VsJ1xuaW1wb3J0IFZPV0VMUyBmcm9tICcuL3ZhcnMvdm93ZWxzJ1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDtlZzquIAg7ZWc66y47J6Q7JeQ7IScIOykkeyEseydhCDrtoTrpqztlbTshJwg6rCA7KC47Jio64ukXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIOusuOyekFxuICogQHJldHVybiB7c3RyaW5nfSDspJHshLFcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc3RyKSB7XG4gICAgaWYgKCFpc0hhbmd1bChzdHIsIDEpKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyA/IHN0ci5jaGFyQXQoMCkgOiBzdHI7XG4gICAgfVxuICAgIHJldHVybiBWT1dFTFNbcGFyc2VJbnQoKCgoc3RyLmNoYXJDb2RlQXQoMCkgJiAweEZGRkYpIC0gMHhBQzAwKSAlICgyMSAqIDI4KSkgLyAyOCldO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3Zvd2VsLmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBbXG4gICAgJ+OFjycsXG4gICAgJ+OFkCcsXG4gICAgJ+OFkScsXG4gICAgJ+OFkicsXG4gICAgJ+OFkycsXG4gICAgJ+OFlCcsXG4gICAgJ+OFlScsXG4gICAgJ+OFlicsXG4gICAgJ+OFlycsXG4gICAgJ+OFmCcsXG4gICAgJ+OFmScsXG4gICAgJ+OFmicsXG4gICAgJ+OFmycsXG4gICAgJ+OFnCcsXG4gICAgJ+OFnScsXG4gICAgJ+OFnicsXG4gICAgJ+OFnycsXG4gICAgJ+OFoCcsXG4gICAgJ+OFoScsXG4gICAgJ+OFoicsXG4gICAgJ+OFoydcbl07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdmFycy92b3dlbHMuanMiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IFtcbiAgICAnJyxcbiAgICAn44SxJyxcbiAgICAn44SyJyxcbiAgICAn44SzJyxcbiAgICAn44S0JyxcbiAgICAn44S1JyxcbiAgICAn44S2JyxcbiAgICAn44S3JyxcbiAgICAn44S5JyxcbiAgICAn44S6JyxcbiAgICAn44S7JyxcbiAgICAn44S8JyxcbiAgICAn44S9JyxcbiAgICAn44S+JyxcbiAgICAn44S/JyxcbiAgICAn44WAJyxcbiAgICAn44WBJyxcbiAgICAn44WCJyxcbiAgICAn44WEJyxcbiAgICAn44WFJyxcbiAgICAn44WGJyxcbiAgICAn44WHJyxcbiAgICAn44WIJyxcbiAgICAn44WKJyxcbiAgICAn44WLJyxcbiAgICAn44WMJyxcbiAgICAn44WNJyxcbiAgICAn44WOJ1xuXTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy92YXJzL2ZpbmFsQ29uc29uYW50cy5qcyIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGhhc1VuZGVyIGZyb20gJy4vaGFzVW5kZXInXG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOusuOyekOyXtOydmCDrp4jsp4Drp4kg66y47J6Q7J2YIOyiheyEsSDsnKDrrLTrpbwg6rKA7IKs7ZWc64ukXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIOusuOyekOyXtFxuICogQHJldHVybiB7Ym9vbGVhbn0g66eI7KeA66eJIOusuOyekOydmCDsooXshLEg7Jyg66y0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHN0cikge1xuICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJyB8fCBzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGhhc1VuZGVyKHN0ci5jaGFyQXQoc3RyLmxlbmd0aCAtIDEpKTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9oYXNMYXN0VW5kZXIuanMiLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBOVU1CRVJTIGZyb20gJy4vdmFycy9udW1iZXJzJ1xuaW1wb3J0IExBUkdFX05VTUJFUlMgZnJvbSAnLi92YXJzL2xhcmdlTnVtYmVycydcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g7Iir7J6Q66W8IO2VnOq4gO2YleyLneycvOuhnCDrsJTqv5TspIDri6RcbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gbnVtYmVyIOyIq+yekFxuICogQHBhcmFtIHtzdHJpbmd9IFtkZWxpbWl0ZXJdIOuLqOychCDqtazrtoTsnpBcbiAqIEByZXR1cm4ge3N0cmluZ30g7ZWc6riA7Iir7J6QXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG51bWJlciwgZGVsaW1pdGVyKSB7XG4gICAgaWYgKHR5cGVvZiBudW1iZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCInbnVtYmVyJyBpcyB1bmRlZmluZWRcIik7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbnVtYmVyICE9PSAnc3RyaW5nJykge1xuICAgICAgICBudW1iZXIgPSBudW1iZXIudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgaWYgKCEvXlswLTldKyQvLnRlc3QobnVtYmVyKSkge1xuICAgICAgICByZXR1cm4gbnVtYmVyO1xuICAgIH1cbiAgICBpZiAobnVtYmVyLmNoYXJBdCgwKSA9PT0gJzAnKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbnVtYmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobnVtYmVyLmNoYXJBdChpKSA9PT0gJzAnKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBudW1iZXIgPSBudW1iZXIuc3Vic3RyaW5nKGkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG51bWJlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIE5VTUJFUlNbMF07XG4gICAgfVxuICAgIGlmIChudW1iZXIubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBOVU1CRVJTW251bWJlci5jaGFyQXQoMCldO1xuICAgIH1cbiAgICBsZXQgc3BsaXRlZE51bWJlcnMgPSBudW1iZXIuc3BsaXQoJycpLm1hcChhID0+IHBhcnNlSW50KGEpKTtcbiAgICBsZXQgcmV2ZXJzZWROdW1iZXJzID0gc3BsaXRlZE51bWJlcnMucmV2ZXJzZSgpO1xuICAgIGxldCBncm91cGVkTnVtYmVycyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmV2ZXJzZWROdW1iZXJzLmxlbmd0aDsgaSArPSA0KSB7XG4gICAgICAgIGdyb3VwZWROdW1iZXJzLnB1c2gocmV2ZXJzZWROdW1iZXJzLnNsaWNlKGksIGkgKyA0KSk7XG4gICAgfVxuICAgIHJldHVybiBncm91cGVkTnVtYmVycy5tYXAoKG51bXMsIGkpID0+IHtcbiAgICAgICAgbGV0IGhudW1zID0gbnVtcy5tYXAoKG4sIGopID0+IHtcbiAgICAgICAgICAgIGxldCBobnVtID0gKG4gPiAxIHx8IGogPT09IDAgJiYgbiA9PT0gMSkgPyBOVU1CRVJTW25dIDogJyc7XG4gICAgICAgICAgICBsZXQgdW5pdCA9IChuID4gMCAmJiBqID4gMCkgPyBMQVJHRV9OVU1CRVJTWzBdW2ogLSAxXSA6ICcnO1xuICAgICAgICAgICAgcmV0dXJuIGhudW0gKyB1bml0O1xuICAgICAgICB9KS5yZWR1Y2UoKGEsIGIpID0+IGIgKyBhKTtcbiAgICAgICAgbGV0IGx1bml0ID0gKGkgPiAwICYmIGhudW1zLmxlbmd0aCA+IDApID8gTEFSR0VfTlVNQkVSU1sxXVsoaSAtIDEpICUgNF0gOiAnJztcbiAgICAgICAgcmV0dXJuIGhudW1zICsgbHVuaXQ7XG4gICAgfSkuZmlsdGVyKGEgPT4gYS5sZW5ndGggPiAwKS5yZWR1Y2UoKGEsIGIpID0+IGIgKyAoZGVsaW1pdGVyIHx8ICcnKSArIGEpO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Zvcm1hdE51bWJlci5qcyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQgW1xuICAgICfsmIEnLFxuICAgICfsnbwnLFxuICAgICfsnbQnLFxuICAgICfsgrwnLFxuICAgICfsgqwnLFxuICAgICfsmKQnLFxuICAgICfsnKEnLFxuICAgICfsuaAnLFxuICAgICftjJQnLFxuICAgICfqtawnXG5dO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3ZhcnMvbnVtYmVycy5qcyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQgW1xuICAgIFsn7IutJywgJ+uwsScsICfsspwnXSxcbiAgICBbJ+unjCcsICfslrUnLCAn7KGwJywgJ+qyvSddXG5dO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3ZhcnMvbGFyZ2VOdW1iZXJzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==